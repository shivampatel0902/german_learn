import './polyfills.server.mjs';
import{$ as nn,A as B,B as R,C as se,D as we,E as Oe,F as $,G as ii,H as ni,I as $i,J as qi,K as Xi,L as ri,M as Yi,O as Zi,T as Qi,V as Ki,W as Ji,X as si,Z as en,_ as tn,a as Ri,aa as rn,b as zi,ba as sn,c as Te,d as Ni,e as Li,ea as on,f as Hi,g as Gi,h as Kt,i as ve,j as te,k as Pe,ka as an,l as Fe,m as be,n as ie,o as Bi,p as Ui,q as Jt,r as ne,s as ji,t as G,u as D,v as ei,w as re,x as ti,y as X,z as Wi}from"./chunk-LJACXAIH.mjs";import{a as V,b as H,d as ki,e as hr,g as fr,h as b}from"./chunk-VVCT4QZE.mjs";var sr=hr(Zt=>{"use strict";(function(){"use strict";var r=function(){this.init()};r.prototype={init:function(){var n=this||e;return n._counter=1e3,n._html5AudioPool=[],n.html5PoolSize=10,n._codecs={},n._howls=[],n._muted=!1,n._volume=1,n._canPlayEvent="canplaythrough",n._navigator=typeof window<"u"&&window.navigator?window.navigator:null,n.masterGain=null,n.noAudio=!1,n.usingWebAudio=!0,n.autoSuspend=!0,n.ctx=null,n.autoUnlock=!0,n._setup(),n},volume:function(n){var o=this||e;if(n=parseFloat(n),o.ctx||g(),typeof n<"u"&&n>=0&&n<=1){if(o._volume=n,o._muted)return o;o.usingWebAudio&&o.masterGain.gain.setValueAtTime(n,e.ctx.currentTime);for(var l=0;l<o._howls.length;l++)if(!o._howls[l]._webAudio)for(var c=o._howls[l]._getSoundIds(),p=0;p<c.length;p++){var m=o._howls[l]._soundById(c[p]);m&&m._node&&(m._node.volume=m._volume*n)}return o}return o._volume},mute:function(n){var o=this||e;o.ctx||g(),o._muted=n,o.usingWebAudio&&o.masterGain.gain.setValueAtTime(n?0:o._volume,e.ctx.currentTime);for(var l=0;l<o._howls.length;l++)if(!o._howls[l]._webAudio)for(var c=o._howls[l]._getSoundIds(),p=0;p<c.length;p++){var m=o._howls[l]._soundById(c[p]);m&&m._node&&(m._node.muted=n?!0:m._muted)}return o},stop:function(){for(var n=this||e,o=0;o<n._howls.length;o++)n._howls[o].stop();return n},unload:function(){for(var n=this||e,o=n._howls.length-1;o>=0;o--)n._howls[o].unload();return n.usingWebAudio&&n.ctx&&typeof n.ctx.close<"u"&&(n.ctx.close(),n.ctx=null,g()),n},codecs:function(n){return(this||e)._codecs[n.replace(/^x-/,"")]},_setup:function(){var n=this||e;if(n.state=n.ctx&&n.ctx.state||"suspended",n._autoSuspend(),!n.usingWebAudio)if(typeof Audio<"u")try{var o=new Audio;typeof o.oncanplaythrough>"u"&&(n._canPlayEvent="canplay")}catch{n.noAudio=!0}else n.noAudio=!0;try{var o=new Audio;o.muted&&(n.noAudio=!0)}catch{}return n.noAudio||n._setupCodecs(),n},_setupCodecs:function(){var n=this||e,o=null;try{o=typeof Audio<"u"?new Audio:null}catch{return n}if(!o||typeof o.canPlayType!="function")return n;var l=o.canPlayType("audio/mpeg;").replace(/^no$/,""),c=n._navigator?n._navigator.userAgent:"",p=c.match(/OPR\/(\d+)/g),m=p&&parseInt(p[0].split("/")[1],10)<33,f=c.indexOf("Safari")!==-1&&c.indexOf("Chrome")===-1,_=c.match(/Version\/(.*?) /),v=f&&_&&parseInt(_[1],10)<15;return n._codecs={mp3:!!(!m&&(l||o.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!l,opus:!!o.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(o.canPlayType('audio/wav; codecs="1"')||o.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!o.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!o.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/m4a;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(o.canPlayType("audio/x-m4b;")||o.canPlayType("audio/m4b;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(o.canPlayType("audio/x-mp4;")||o.canPlayType("audio/mp4;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!v&&o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!v&&o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!o.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(o.canPlayType("audio/x-flac;")||o.canPlayType("audio/flac;")).replace(/^no$/,"")},n},_unlockAudio:function(){var n=this||e;if(!(n._audioUnlocked||!n.ctx)){n._audioUnlocked=!1,n.autoUnlock=!1,!n._mobileUnloaded&&n.ctx.sampleRate!==44100&&(n._mobileUnloaded=!0,n.unload()),n._scratchBuffer=n.ctx.createBuffer(1,1,22050);var o=function(l){for(;n._html5AudioPool.length<n.html5PoolSize;)try{var c=new Audio;c._unlocked=!0,n._releaseHtml5Audio(c)}catch{n.noAudio=!0;break}for(var p=0;p<n._howls.length;p++)if(!n._howls[p]._webAudio)for(var m=n._howls[p]._getSoundIds(),f=0;f<m.length;f++){var _=n._howls[p]._soundById(m[f]);_&&_._node&&!_._node._unlocked&&(_._node._unlocked=!0,_._node.load())}n._autoResume();var v=n.ctx.createBufferSource();v.buffer=n._scratchBuffer,v.connect(n.ctx.destination),typeof v.start>"u"?v.noteOn(0):v.start(0),typeof n.ctx.resume=="function"&&n.ctx.resume(),v.onended=function(){v.disconnect(0),n._audioUnlocked=!0,document.removeEventListener("touchstart",o,!0),document.removeEventListener("touchend",o,!0),document.removeEventListener("click",o,!0),document.removeEventListener("keydown",o,!0);for(var w=0;w<n._howls.length;w++)n._howls[w]._emit("unlock")}};return document.addEventListener("touchstart",o,!0),document.addEventListener("touchend",o,!0),document.addEventListener("click",o,!0),document.addEventListener("keydown",o,!0),n}},_obtainHtml5Audio:function(){var n=this||e;if(n._html5AudioPool.length)return n._html5AudioPool.pop();var o=new Audio().play();return o&&typeof Promise<"u"&&(o instanceof Promise||typeof o.then=="function")&&o.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(n){var o=this||e;return n._unlocked&&o._html5AudioPool.push(n),o},_autoSuspend:function(){var n=this;if(!(!n.autoSuspend||!n.ctx||typeof n.ctx.suspend>"u"||!e.usingWebAudio)){for(var o=0;o<n._howls.length;o++)if(n._howls[o]._webAudio){for(var l=0;l<n._howls[o]._sounds.length;l++)if(!n._howls[o]._sounds[l]._paused)return n}return n._suspendTimer&&clearTimeout(n._suspendTimer),n._suspendTimer=setTimeout(function(){if(n.autoSuspend){n._suspendTimer=null,n.state="suspending";var c=function(){n.state="suspended",n._resumeAfterSuspend&&(delete n._resumeAfterSuspend,n._autoResume())};n.ctx.suspend().then(c,c)}},3e4),n}},_autoResume:function(){var n=this;if(!(!n.ctx||typeof n.ctx.resume>"u"||!e.usingWebAudio))return n.state==="running"&&n.ctx.state!=="interrupted"&&n._suspendTimer?(clearTimeout(n._suspendTimer),n._suspendTimer=null):n.state==="suspended"||n.state==="running"&&n.ctx.state==="interrupted"?(n.ctx.resume().then(function(){n.state="running";for(var o=0;o<n._howls.length;o++)n._howls[o]._emit("resume")}),n._suspendTimer&&(clearTimeout(n._suspendTimer),n._suspendTimer=null)):n.state==="suspending"&&(n._resumeAfterSuspend=!0),n}};var e=new r,t=function(n){var o=this;if(!n.src||n.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}o.init(n)};t.prototype={init:function(n){var o=this;return e.ctx||g(),o._autoplay=n.autoplay||!1,o._format=typeof n.format!="string"?n.format:[n.format],o._html5=n.html5||!1,o._muted=n.mute||!1,o._loop=n.loop||!1,o._pool=n.pool||5,o._preload=typeof n.preload=="boolean"||n.preload==="metadata"?n.preload:!0,o._rate=n.rate||1,o._sprite=n.sprite||{},o._src=typeof n.src!="string"?n.src:[n.src],o._volume=n.volume!==void 0?n.volume:1,o._xhr={method:n.xhr&&n.xhr.method?n.xhr.method:"GET",headers:n.xhr&&n.xhr.headers?n.xhr.headers:null,withCredentials:n.xhr&&n.xhr.withCredentials?n.xhr.withCredentials:!1},o._duration=0,o._state="unloaded",o._sounds=[],o._endTimers={},o._queue=[],o._playLock=!1,o._onend=n.onend?[{fn:n.onend}]:[],o._onfade=n.onfade?[{fn:n.onfade}]:[],o._onload=n.onload?[{fn:n.onload}]:[],o._onloaderror=n.onloaderror?[{fn:n.onloaderror}]:[],o._onplayerror=n.onplayerror?[{fn:n.onplayerror}]:[],o._onpause=n.onpause?[{fn:n.onpause}]:[],o._onplay=n.onplay?[{fn:n.onplay}]:[],o._onstop=n.onstop?[{fn:n.onstop}]:[],o._onmute=n.onmute?[{fn:n.onmute}]:[],o._onvolume=n.onvolume?[{fn:n.onvolume}]:[],o._onrate=n.onrate?[{fn:n.onrate}]:[],o._onseek=n.onseek?[{fn:n.onseek}]:[],o._onunlock=n.onunlock?[{fn:n.onunlock}]:[],o._onresume=[],o._webAudio=e.usingWebAudio&&!o._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(o),o._autoplay&&o._queue.push({event:"play",action:function(){o.play()}}),o._preload&&o._preload!=="none"&&o.load(),o},load:function(){var n=this,o=null;if(e.noAudio){n._emit("loaderror",null,"No audio support.");return}typeof n._src=="string"&&(n._src=[n._src]);for(var l=0;l<n._src.length;l++){var c,p;if(n._format&&n._format[l])c=n._format[l];else{if(p=n._src[l],typeof p!="string"){n._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}c=/^data:audio\/([^;,]+);/i.exec(p),c||(c=/\.([^.]+)$/.exec(p.split("?",1)[0])),c&&(c=c[1].toLowerCase())}if(c||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),c&&e.codecs(c)){o=n._src[l];break}}if(!o){n._emit("loaderror",null,"No codec support for selected audio sources.");return}return n._src=o,n._state="loading",window.location.protocol==="https:"&&o.slice(0,5)==="http:"&&(n._html5=!0,n._webAudio=!1),new i(n),n._webAudio&&a(n),n},play:function(n,o){var l=this,c=null;if(typeof n=="number")c=n,n=null;else{if(typeof n=="string"&&l._state==="loaded"&&!l._sprite[n])return null;if(typeof n>"u"&&(n="__default",!l._playLock)){for(var p=0,m=0;m<l._sounds.length;m++)l._sounds[m]._paused&&!l._sounds[m]._ended&&(p++,c=l._sounds[m]._id);p===1?n=null:c=null}}var f=c?l._soundById(c):l._inactiveSound();if(!f)return null;if(c&&!n&&(n=f._sprite||"__default"),l._state!=="loaded"){f._sprite=n,f._ended=!1;var _=f._id;return l._queue.push({event:"play",action:function(){l.play(_)}}),_}if(c&&!f._paused)return o||l._loadQueue("play"),f._id;l._webAudio&&e._autoResume();var v=Math.max(0,f._seek>0?f._seek:l._sprite[n][0]/1e3),w=Math.max(0,(l._sprite[n][0]+l._sprite[n][1])/1e3-v),k=w*1e3/Math.abs(f._rate),J=l._sprite[n][0]/1e3,Ee=(l._sprite[n][0]+l._sprite[n][1])/1e3;f._sprite=n,f._ended=!1;var Qt=function(){f._paused=!1,f._seek=v,f._start=J,f._stop=Ee,f._loop=!!(f._loop||l._sprite[n][2])};if(v>=Ee){l._ended(f);return}var C=f._node;if(l._webAudio){var Pi=function(){l._playLock=!1,Qt(),l._refreshBuffer(f);var ee=f._muted||l._muted?0:f._volume;C.gain.setValueAtTime(ee,e.ctx.currentTime),f._playStart=e.ctx.currentTime,typeof C.bufferSource.start>"u"?f._loop?C.bufferSource.noteGrainOn(0,v,86400):C.bufferSource.noteGrainOn(0,v,w):f._loop?C.bufferSource.start(0,v,86400):C.bufferSource.start(0,v,w),k!==1/0&&(l._endTimers[f._id]=setTimeout(l._ended.bind(l,f),k)),o||setTimeout(function(){l._emit("play",f._id),l._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?Pi():(l._playLock=!0,l.once("resume",Pi),l._clearTimer(f._id))}else{var Fi=function(){C.currentTime=v,C.muted=f._muted||l._muted||e._muted||C.muted,C.volume=f._volume*e.volume(),C.playbackRate=f._rate;try{var ee=C.play();if(ee&&typeof Promise<"u"&&(ee instanceof Promise||typeof ee.then=="function")?(l._playLock=!0,Qt(),ee.then(function(){l._playLock=!1,C._unlocked=!0,o?l._loadQueue():l._emit("play",f._id)}).catch(function(){l._playLock=!1,l._emit("playerror",f._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),f._ended=!0,f._paused=!0})):o||(l._playLock=!1,Qt(),l._emit("play",f._id)),C.playbackRate=f._rate,C.paused){l._emit("playerror",f._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}n!=="__default"||f._loop?l._endTimers[f._id]=setTimeout(l._ended.bind(l,f),k):(l._endTimers[f._id]=function(){l._ended(f),C.removeEventListener("ended",l._endTimers[f._id],!1)},C.addEventListener("ended",l._endTimers[f._id],!1))}catch(dr){l._emit("playerror",f._id,dr)}};C.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(C.src=l._src,C.load());var cr=window&&window.ejecta||!C.readyState&&e._navigator.isCocoonJS;if(C.readyState>=3||cr)Fi();else{l._playLock=!0,l._state="loading";var Oi=function(){l._state="loaded",Fi(),C.removeEventListener(e._canPlayEvent,Oi,!1)};C.addEventListener(e._canPlayEvent,Oi,!1),l._clearTimer(f._id)}}return f._id},pause:function(n){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"pause",action:function(){o.pause(n)}}),o;for(var l=o._getSoundIds(n),c=0;c<l.length;c++){o._clearTimer(l[c]);var p=o._soundById(l[c]);if(p&&!p._paused&&(p._seek=o.seek(l[c]),p._rateSeek=0,p._paused=!0,o._stopFade(l[c]),p._node))if(o._webAudio){if(!p._node.bufferSource)continue;typeof p._node.bufferSource.stop>"u"?p._node.bufferSource.noteOff(0):p._node.bufferSource.stop(0),o._cleanBuffer(p._node)}else(!isNaN(p._node.duration)||p._node.duration===1/0)&&p._node.pause();arguments[1]||o._emit("pause",p?p._id:null)}return o},stop:function(n,o){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"stop",action:function(){l.stop(n)}}),l;for(var c=l._getSoundIds(n),p=0;p<c.length;p++){l._clearTimer(c[p]);var m=l._soundById(c[p]);m&&(m._seek=m._start||0,m._rateSeek=0,m._paused=!0,m._ended=!0,l._stopFade(c[p]),m._node&&(l._webAudio?m._node.bufferSource&&(typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),l._cleanBuffer(m._node)):(!isNaN(m._node.duration)||m._node.duration===1/0)&&(m._node.currentTime=m._start||0,m._node.pause(),m._node.duration===1/0&&l._clearSound(m._node))),o||l._emit("stop",m._id))}return l},mute:function(n,o){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"mute",action:function(){l.mute(n,o)}}),l;if(typeof o>"u")if(typeof n=="boolean")l._muted=n;else return l._muted;for(var c=l._getSoundIds(o),p=0;p<c.length;p++){var m=l._soundById(c[p]);m&&(m._muted=n,m._interval&&l._stopFade(m._id),l._webAudio&&m._node?m._node.gain.setValueAtTime(n?0:m._volume,e.ctx.currentTime):m._node&&(m._node.muted=e._muted?!0:n),l._emit("mute",m._id))}return l},volume:function(){var n=this,o=arguments,l,c;if(o.length===0)return n._volume;if(o.length===1||o.length===2&&typeof o[1]>"u"){var p=n._getSoundIds(),m=p.indexOf(o[0]);m>=0?c=parseInt(o[0],10):l=parseFloat(o[0])}else o.length>=2&&(l=parseFloat(o[0]),c=parseInt(o[1],10));var f;if(typeof l<"u"&&l>=0&&l<=1){if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,o)}}),n;typeof c>"u"&&(n._volume=l),c=n._getSoundIds(c);for(var _=0;_<c.length;_++)f=n._soundById(c[_]),f&&(f._volume=l,o[2]||n._stopFade(c[_]),n._webAudio&&f._node&&!f._muted?f._node.gain.setValueAtTime(l,e.ctx.currentTime):f._node&&!f._muted&&(f._node.volume=l*e.volume()),n._emit("volume",f._id))}else return f=c?n._soundById(c):n._sounds[0],f?f._volume:0;return n},fade:function(n,o,l,c){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"fade",action:function(){p.fade(n,o,l,c)}}),p;n=Math.min(Math.max(0,parseFloat(n)),1),o=Math.min(Math.max(0,parseFloat(o)),1),l=parseFloat(l),p.volume(n,c);for(var m=p._getSoundIds(c),f=0;f<m.length;f++){var _=p._soundById(m[f]);if(_){if(c||p._stopFade(m[f]),p._webAudio&&!_._muted){var v=e.ctx.currentTime,w=v+l/1e3;_._volume=n,_._node.gain.setValueAtTime(n,v),_._node.gain.linearRampToValueAtTime(o,w)}p._startFadeInterval(_,n,o,l,m[f],typeof c>"u")}}return p},_startFadeInterval:function(n,o,l,c,p,m){var f=this,_=o,v=l-o,w=Math.abs(v/.01),k=Math.max(4,w>0?c/w:c),J=Date.now();n._fadeTo=l,n._interval=setInterval(function(){var Ee=(Date.now()-J)/c;J=Date.now(),_+=v*Ee,_=Math.round(_*100)/100,v<0?_=Math.max(l,_):_=Math.min(l,_),f._webAudio?n._volume=_:f.volume(_,n._id,!0),m&&(f._volume=_),(l<o&&_<=l||l>o&&_>=l)&&(clearInterval(n._interval),n._interval=null,n._fadeTo=null,f.volume(l,n._id),f._emit("fade",n._id))},k)},_stopFade:function(n){var o=this,l=o._soundById(n);return l&&l._interval&&(o._webAudio&&l._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(l._interval),l._interval=null,o.volume(l._fadeTo,n),l._fadeTo=null,o._emit("fade",n)),o},loop:function(){var n=this,o=arguments,l,c,p;if(o.length===0)return n._loop;if(o.length===1)if(typeof o[0]=="boolean")l=o[0],n._loop=l;else return p=n._soundById(parseInt(o[0],10)),p?p._loop:!1;else o.length===2&&(l=o[0],c=parseInt(o[1],10));for(var m=n._getSoundIds(c),f=0;f<m.length;f++)p=n._soundById(m[f]),p&&(p._loop=l,n._webAudio&&p._node&&p._node.bufferSource&&(p._node.bufferSource.loop=l,l&&(p._node.bufferSource.loopStart=p._start||0,p._node.bufferSource.loopEnd=p._stop,n.playing(m[f])&&(n.pause(m[f],!0),n.play(m[f],!0)))));return n},rate:function(){var n=this,o=arguments,l,c;if(o.length===0)c=n._sounds[0]._id;else if(o.length===1){var p=n._getSoundIds(),m=p.indexOf(o[0]);m>=0?c=parseInt(o[0],10):l=parseFloat(o[0])}else o.length===2&&(l=parseFloat(o[0]),c=parseInt(o[1],10));var f;if(typeof l=="number"){if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,o)}}),n;typeof c>"u"&&(n._rate=l),c=n._getSoundIds(c);for(var _=0;_<c.length;_++)if(f=n._soundById(c[_]),f){n.playing(c[_])&&(f._rateSeek=n.seek(c[_]),f._playStart=n._webAudio?e.ctx.currentTime:f._playStart),f._rate=l,n._webAudio&&f._node&&f._node.bufferSource?f._node.bufferSource.playbackRate.setValueAtTime(l,e.ctx.currentTime):f._node&&(f._node.playbackRate=l);var v=n.seek(c[_]),w=(n._sprite[f._sprite][0]+n._sprite[f._sprite][1])/1e3-v,k=w*1e3/Math.abs(f._rate);(n._endTimers[c[_]]||!f._paused)&&(n._clearTimer(c[_]),n._endTimers[c[_]]=setTimeout(n._ended.bind(n,f),k)),n._emit("rate",f._id)}}else return f=n._soundById(c),f?f._rate:n._rate;return n},seek:function(){var n=this,o=arguments,l,c;if(o.length===0)n._sounds.length&&(c=n._sounds[0]._id);else if(o.length===1){var p=n._getSoundIds(),m=p.indexOf(o[0]);m>=0?c=parseInt(o[0],10):n._sounds.length&&(c=n._sounds[0]._id,l=parseFloat(o[0]))}else o.length===2&&(l=parseFloat(o[0]),c=parseInt(o[1],10));if(typeof c>"u")return 0;if(typeof l=="number"&&(n._state!=="loaded"||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,o)}}),n;var f=n._soundById(c);if(f)if(typeof l=="number"&&l>=0){var _=n.playing(c);_&&n.pause(c,!0),f._seek=l,f._ended=!1,n._clearTimer(c),!n._webAudio&&f._node&&!isNaN(f._node.duration)&&(f._node.currentTime=l);var v=function(){_&&n.play(c,!0),n._emit("seek",c)};if(_&&!n._webAudio){var w=function(){n._playLock?setTimeout(w,0):v()};setTimeout(w,0)}else v()}else if(n._webAudio){var k=n.playing(c)?e.ctx.currentTime-f._playStart:0,J=f._rateSeek?f._rateSeek-f._seek:0;return f._seek+(J+k*Math.abs(f._rate))}else return f._node.currentTime;return n},playing:function(n){var o=this;if(typeof n=="number"){var l=o._soundById(n);return l?!l._paused:!1}for(var c=0;c<o._sounds.length;c++)if(!o._sounds[c]._paused)return!0;return!1},duration:function(n){var o=this,l=o._duration,c=o._soundById(n);return c&&(l=o._sprite[c._sprite][1]/1e3),l},state:function(){return this._state},unload:function(){for(var n=this,o=n._sounds,l=0;l<o.length;l++)o[l]._paused||n.stop(o[l]._id),n._webAudio||(n._clearSound(o[l]._node),o[l]._node.removeEventListener("error",o[l]._errorFn,!1),o[l]._node.removeEventListener(e._canPlayEvent,o[l]._loadFn,!1),o[l]._node.removeEventListener("ended",o[l]._endFn,!1),e._releaseHtml5Audio(o[l]._node)),delete o[l]._node,n._clearTimer(o[l]._id);var c=e._howls.indexOf(n);c>=0&&e._howls.splice(c,1);var p=!0;for(l=0;l<e._howls.length;l++)if(e._howls[l]._src===n._src||n._src.indexOf(e._howls[l]._src)>=0){p=!1;break}return s&&p&&delete s[n._src],e.noAudio=!1,n._state="unloaded",n._sounds=[],n=null,null},on:function(n,o,l,c){var p=this,m=p["_on"+n];return typeof o=="function"&&m.push(c?{id:l,fn:o,once:c}:{id:l,fn:o}),p},off:function(n,o,l){var c=this,p=c["_on"+n],m=0;if(typeof o=="number"&&(l=o,o=null),o||l)for(m=0;m<p.length;m++){var f=l===p[m].id;if(o===p[m].fn&&f||!o&&f){p.splice(m,1);break}}else if(n)c["_on"+n]=[];else{var _=Object.keys(c);for(m=0;m<_.length;m++)_[m].indexOf("_on")===0&&Array.isArray(c[_[m]])&&(c[_[m]]=[])}return c},once:function(n,o,l){var c=this;return c.on(n,o,l,1),c},_emit:function(n,o,l){for(var c=this,p=c["_on"+n],m=p.length-1;m>=0;m--)(!p[m].id||p[m].id===o||n==="load")&&(setTimeout((function(f){f.call(this,o,l)}).bind(c,p[m].fn),0),p[m].once&&c.off(n,p[m].fn,p[m].id));return c._loadQueue(n),c},_loadQueue:function(n){var o=this;if(o._queue.length>0){var l=o._queue[0];l.event===n&&(o._queue.shift(),o._loadQueue()),n||l.action()}return o},_ended:function(n){var o=this,l=n._sprite;if(!o._webAudio&&n._node&&!n._node.paused&&!n._node.ended&&n._node.currentTime<n._stop)return setTimeout(o._ended.bind(o,n),100),o;var c=!!(n._loop||o._sprite[l][2]);if(o._emit("end",n._id),!o._webAudio&&c&&o.stop(n._id,!0).play(n._id),o._webAudio&&c){o._emit("play",n._id),n._seek=n._start||0,n._rateSeek=0,n._playStart=e.ctx.currentTime;var p=(n._stop-n._start)*1e3/Math.abs(n._rate);o._endTimers[n._id]=setTimeout(o._ended.bind(o,n),p)}return o._webAudio&&!c&&(n._paused=!0,n._ended=!0,n._seek=n._start||0,n._rateSeek=0,o._clearTimer(n._id),o._cleanBuffer(n._node),e._autoSuspend()),!o._webAudio&&!c&&o.stop(n._id,!0),o},_clearTimer:function(n){var o=this;if(o._endTimers[n]){if(typeof o._endTimers[n]!="function")clearTimeout(o._endTimers[n]);else{var l=o._soundById(n);l&&l._node&&l._node.removeEventListener("ended",o._endTimers[n],!1)}delete o._endTimers[n]}return o},_soundById:function(n){for(var o=this,l=0;l<o._sounds.length;l++)if(n===o._sounds[l]._id)return o._sounds[l];return null},_inactiveSound:function(){var n=this;n._drain();for(var o=0;o<n._sounds.length;o++)if(n._sounds[o]._ended)return n._sounds[o].reset();return new i(n)},_drain:function(){var n=this,o=n._pool,l=0,c=0;if(!(n._sounds.length<o)){for(c=0;c<n._sounds.length;c++)n._sounds[c]._ended&&l++;for(c=n._sounds.length-1;c>=0;c--){if(l<=o)return;n._sounds[c]._ended&&(n._webAudio&&n._sounds[c]._node&&n._sounds[c]._node.disconnect(0),n._sounds.splice(c,1),l--)}}},_getSoundIds:function(n){var o=this;if(typeof n>"u"){for(var l=[],c=0;c<o._sounds.length;c++)l.push(o._sounds[c]._id);return l}else return[n]},_refreshBuffer:function(n){var o=this;return n._node.bufferSource=e.ctx.createBufferSource(),n._node.bufferSource.buffer=s[o._src],n._panner?n._node.bufferSource.connect(n._panner):n._node.bufferSource.connect(n._node),n._node.bufferSource.loop=n._loop,n._loop&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop||0),n._node.bufferSource.playbackRate.setValueAtTime(n._rate,e.ctx.currentTime),o},_cleanBuffer:function(n){var o=this,l=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!n.bufferSource)return o;if(e._scratchBuffer&&n.bufferSource&&(n.bufferSource.onended=null,n.bufferSource.disconnect(0),l))try{n.bufferSource.buffer=e._scratchBuffer}catch{}return n.bufferSource=null,o},_clearSound:function(n){var o=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);o||(n.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(n){this._parent=n,this.init()};i.prototype={init:function(){var n=this,o=n._parent;return n._muted=o._muted,n._loop=o._loop,n._volume=o._volume,n._rate=o._rate,n._seek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++e._counter,o._sounds.push(n),n.create(),n},create:function(){var n=this,o=n._parent,l=e._muted||n._muted||n._parent._muted?0:n._volume;return o._webAudio?(n._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),n._node.gain.setValueAtTime(l,e.ctx.currentTime),n._node.paused=!0,n._node.connect(e.masterGain)):e.noAudio||(n._node=e._obtainHtml5Audio(),n._errorFn=n._errorListener.bind(n),n._node.addEventListener("error",n._errorFn,!1),n._loadFn=n._loadListener.bind(n),n._node.addEventListener(e._canPlayEvent,n._loadFn,!1),n._endFn=n._endListener.bind(n),n._node.addEventListener("ended",n._endFn,!1),n._node.src=o._src,n._node.preload=o._preload===!0?"auto":o._preload,n._node.volume=l*e.volume(),n._node.load()),n},reset:function(){var n=this,o=n._parent;return n._muted=o._muted,n._loop=o._loop,n._volume=o._volume,n._rate=o._rate,n._seek=0,n._rateSeek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++e._counter,n},_errorListener:function(){var n=this;n._parent._emit("loaderror",n._id,n._node.error?n._node.error.code:0),n._node.removeEventListener("error",n._errorFn,!1)},_loadListener:function(){var n=this,o=n._parent;o._duration=Math.ceil(n._node.duration*10)/10,Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,o._duration*1e3]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue()),n._node.removeEventListener(e._canPlayEvent,n._loadFn,!1)},_endListener:function(){var n=this,o=n._parent;o._duration===1/0&&(o._duration=Math.ceil(n._node.duration*10)/10,o._sprite.__default[1]===1/0&&(o._sprite.__default[1]=o._duration*1e3),o._ended(n)),n._node.removeEventListener("ended",n._endFn,!1)}};var s={},a=function(n){var o=n._src;if(s[o]){n._duration=s[o].duration,h(n);return}if(/^data:[^;]+;base64,/.test(o)){for(var l=atob(o.split(",")[1]),c=new Uint8Array(l.length),p=0;p<l.length;++p)c[p]=l.charCodeAt(p);d(c.buffer,n)}else{var m=new XMLHttpRequest;m.open(n._xhr.method,o,!0),m.withCredentials=n._xhr.withCredentials,m.responseType="arraybuffer",n._xhr.headers&&Object.keys(n._xhr.headers).forEach(function(f){m.setRequestHeader(f,n._xhr.headers[f])}),m.onload=function(){var f=(m.status+"")[0];if(f!=="0"&&f!=="2"&&f!=="3"){n._emit("loaderror",null,"Failed loading audio file with status: "+m.status+".");return}d(m.response,n)},m.onerror=function(){n._webAudio&&(n._html5=!0,n._webAudio=!1,n._sounds=[],delete s[o],n.load())},u(m)}},u=function(n){try{n.send()}catch{n.onerror()}},d=function(n,o){var l=function(){o._emit("loaderror",null,"Decoding audio data failed.")},c=function(p){p&&o._sounds.length>0?(s[o._src]=p,h(o,p)):l()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(n).then(c).catch(l):e.ctx.decodeAudioData(n,c,l)},h=function(n,o){o&&!n._duration&&(n._duration=o.duration),Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,n._duration*1e3]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue())},g=function(){if(e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var n=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),o=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),l=o?parseInt(o[1],10):null;if(n&&l&&l<9){var c=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!c&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:e,Howl:t}}),typeof Zt<"u"&&(Zt.Howler=e,Zt.Howl=t),typeof global<"u"?(global.HowlerGlobal=r,global.Howler=e,global.Howl=t,global.Sound=i):typeof window<"u"&&(window.HowlerGlobal=r,window.Howler=e,window.Howl=t,window.Sound=i)})();(function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var i=t._howls.length-1;i>=0;i--)t._howls[i].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(t=typeof t!="number"?s._pos[1]:t,i=typeof i!="number"?s._pos[2]:i,typeof e=="number")s._pos=[e,t,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(e,t,i,s,a,u){var d=this;if(!d.ctx||!d.ctx.listener)return d;var h=d._orientation;if(t=typeof t!="number"?h[1]:t,i=typeof i!="number"?h[2]:i,s=typeof s!="number"?h[3]:s,a=typeof a!="number"?h[4]:a,u=typeof u!="number"?h[5]:u,typeof e=="number")d._orientation=[e,t,i,s,a,u],typeof d.ctx.listener.forwardX<"u"?(d.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),d.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),d.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),d.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),d.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),d.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):d.ctx.listener.setOrientation(e,t,i,s,a,u);else return h;return d},Howl.prototype.init=function(e){return function(t){var i=this;return i._orientation=t.orientation||[1,0,0],i._stereo=t.stereo||null,i._pos=t.pos||null,i._pannerAttr={coneInnerAngle:typeof t.coneInnerAngle<"u"?t.coneInnerAngle:360,coneOuterAngle:typeof t.coneOuterAngle<"u"?t.coneOuterAngle:360,coneOuterGain:typeof t.coneOuterGain<"u"?t.coneOuterGain:0,distanceModel:typeof t.distanceModel<"u"?t.distanceModel:"inverse",maxDistance:typeof t.maxDistance<"u"?t.maxDistance:1e4,panningModel:typeof t.panningModel<"u"?t.panningModel:"HRTF",refDistance:typeof t.refDistance<"u"?t.refDistance:1,rolloffFactor:typeof t.rolloffFactor<"u"?t.rolloffFactor:1},i._onstereo=t.onstereo?[{fn:t.onstereo}]:[],i._onpos=t.onpos?[{fn:t.onpos}]:[],i._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,t){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(e,t)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof t>"u")if(typeof e=="number")i._stereo=e,i._pos=[e,0,0];else return i._stereo;for(var a=i._getSoundIds(t),u=0;u<a.length;u++){var d=i._soundById(a[u]);if(d)if(typeof e=="number")d._stereo=e,d._pos=[e,0,0],d._node&&(d._pannerAttr.panningModel="equalpower",(!d._panner||!d._panner.pan)&&r(d,s),s==="spatial"?typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):d._panner.setPosition(e,0,0):d._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),i._emit("stereo",d._id);else return d._stereo}return i},Howl.prototype.pos=function(e,t,i,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(e,t,i,s)}}),a;if(t=typeof t!="number"?0:t,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof e=="number")a._pos=[e,t,i];else return a._pos;for(var u=a._getSoundIds(s),d=0;d<u.length;d++){var h=a._soundById(u[d]);if(h)if(typeof e=="number")h._pos=[e,t,i],h._node&&((!h._panner||h._panner.pan)&&r(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):h._panner.setPosition(e,t,i)),a._emit("pos",h._id);else return h._pos}return a},Howl.prototype.orientation=function(e,t,i,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(e,t,i,s)}}),a;if(t=typeof t!="number"?a._orientation[1]:t,i=typeof i!="number"?a._orientation[2]:i,typeof s>"u")if(typeof e=="number")a._orientation=[e,t,i];else return a._orientation;for(var u=a._getSoundIds(s),d=0;d<u.length;d++){var h=a._soundById(u[d]);if(h)if(typeof e=="number")h._orientation=[e,t,i],h._node&&(h._panner||(h._pos||(h._pos=a._pos||[0,0,-.5]),r(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(t,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):h._panner.setOrientation(e,t,i)),a._emit("orientation",h._id);else return h._orientation}return a},Howl.prototype.pannerAttr=function(){var e=this,t=arguments,i,s,a;if(!e._webAudio)return e;if(t.length===0)return e._pannerAttr;if(t.length===1)if(typeof t[0]=="object")i=t[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),e._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:e._panningModel});else return a=e._soundById(parseInt(t[0],10)),a?a._pannerAttr:e._pannerAttr;else t.length===2&&(i=t[0],s=parseInt(t[1],10));for(var u=e._getSoundIds(s),d=0;d<u.length;d++)if(a=e._soundById(u[d]),a){var h=a._pannerAttr;h={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:h.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:h.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:h.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:h.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:h.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:h.panningModel};var g=a._panner;g||(a._pos||(a._pos=e._pos||[0,0,-.5]),r(a,"spatial"),g=a._panner),g.coneInnerAngle=h.coneInnerAngle,g.coneOuterAngle=h.coneOuterAngle,g.coneOuterGain=h.coneOuterGain,g.distanceModel=h.distanceModel,g.maxDistance=h.maxDistance,g.refDistance=h.refDistance,g.rolloffFactor=h.rolloffFactor,g.panningModel=h.panningModel}return e},Sound.prototype.init=function(e){return function(){var t=this,i=t._parent;t._orientation=i._orientation,t._stereo=i._stereo,t._pos=i._pos,t._pannerAttr=i._pannerAttr,e.call(this),t._stereo?i.stereo(t._stereo):t._pos&&i.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,i=t._parent;return t._orientation=i._orientation,t._stereo=i._stereo,t._pos=i._pos,t._pannerAttr=i._pannerAttr,t._stereo?i.stereo(t._stereo):t._pos?i.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,i._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var r=function(e,t){t=t||"spatial",t==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()});var gn=(()=>{let e=class e{constructor(i,s){this._renderer=i,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(i,s){this._renderer.setProperty(this._elementRef.nativeElement,i,s)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(s){return new(s||e)(D(ei),D(Jt))},e.\u0275dir=ie({type:e});let r=e;return r})(),pr=(()=>{let e=class e extends gn{};e.\u0275fac=(()=>{let i;return function(a){return(i||(i=Ui(e)))(a||e)}})(),e.\u0275dir=ie({type:e,features:[re]});let r=e;return r})(),_n=new te("");var mr={provide:_n,useExisting:Kt(()=>Ne),multi:!0};function gr(){let r=si()?si().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var _r=new te(""),Ne=(()=>{let e=class e extends gn{constructor(i,s,a){super(i,s),this._compositionMode=a,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!gr())}writeValue(i){let s=i??"";this.setProperty("value",s)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(s){return new(s||e)(D(ei),D(Jt),D(_r,8))},e.\u0275dir=ie({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,a){s&1&&we("input",function(d){return a._handleInput(d.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(d){return a._compositionEnd(d.target.value)})},features:[ri([mr]),re]});let r=e;return r})();var yr=new te(""),vr=new te("");function yn(r){return r!=null}function vn(r){return Zi(r)?Te(r):r}function bn(r){let e={};return r.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function wn(r,e){return e.map(t=>t(r))}function br(r){return!r.validate}function xn(r){return r.map(e=>br(e)?e:t=>e.validate(t))}function wr(r){if(!r)return null;let e=r.filter(yn);return e.length==0?null:function(t){return bn(wn(t,e))}}function An(r){return r!=null?wr(xn(r)):null}function xr(r){if(!r)return null;let e=r.filter(yn);return e.length==0?null:function(t){let i=wn(t,e).map(vn);return Hi(i).pipe(Ni(bn))}}function Cn(r){return r!=null?xr(xn(r)):null}function ln(r,e){return r===null?[e]:Array.isArray(r)?[...r,e]:[r,e]}function Ar(r){return r._rawValidators}function Cr(r){return r._rawAsyncValidators}function oi(r){return r?Array.isArray(r)?r:[r]:[]}function Re(r,e){return Array.isArray(r)?r.includes(e):r===e}function un(r,e){let t=oi(e);return oi(r).forEach(s=>{Re(t,s)||t.push(s)}),t}function cn(r,e){return oi(e).filter(t=>!Re(r,t))}var ze=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=An(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ai=class extends ze{get formDirective(){return null}get path(){return null}},Ce=class extends ze{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},li=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Mr={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ks=H(V({},Mr),{"[class.ng-submitted]":"isSubmitted"}),Mn=(()=>{let e=class e extends li{constructor(i){super(i)}};e.\u0275fac=function(s){return new(s||e)(D(Ce,2))},e.\u0275dir=ie({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,a){s&2&&Wi("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[re]});let r=e;return r})();var xe="VALID",ke="INVALID",oe="PENDING",Ae="DISABLED";function Vr(r){return(Le(r)?r.validators:r)||null}function Dr(r){return Array.isArray(r)?An(r):r||null}function Sr(r,e){return(Le(e)?e.asyncValidators:r)||null}function Ir(r){return Array.isArray(r)?Cn(r):r||null}function Le(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}var ui=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xe}get invalid(){return this.status===ke}get pending(){return this.status==oe}get disabled(){return this.status===Ae}get enabled(){return this.status!==Ae}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(un(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(un(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(cn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(cn(e,this._rawAsyncValidators))}hasValidator(e){return Re(this._rawValidators,e)}hasAsyncValidator(e){return Re(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=oe,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ae,this.errors=null,this._forEachChild(i=>{i.disable(H(V({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(V({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xe,this._forEachChild(i=>{i.enable(H(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(H(V({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xe||this.status===oe)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ae:xe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=oe,this._hasOwnPendingAsyncValidator=!0;let t=vn(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,s)=>i&&i._find(s),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ne,this.statusChanges=new ne}_calculateStatus(){return this._allControlsDisabled()?Ae:this.errors?ke:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oe)?oe:this._anyControlsHaveStatus(ke)?ke:xe}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Le(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Dr(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ir(this._rawAsyncValidators)}};var Vn=new te("CallSetDisabledState",{providedIn:"root",factory:()=>ci}),ci="always";function Er(r,e){return[...e.path,r]}function Tr(r,e,t=ci){Fr(r,e),e.valueAccessor.writeValue(r.value),(r.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(r.disabled),Or(r,e),Rr(r,e),kr(r,e),Pr(r,e)}function dn(r,e){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Pr(r,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(t),e._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}function Fr(r,e){let t=Ar(r);e.validator!==null?r.setValidators(ln(t,e.validator)):typeof t=="function"&&r.setValidators([t]);let i=Cr(r);e.asyncValidator!==null?r.setAsyncValidators(ln(i,e.asyncValidator)):typeof i=="function"&&r.setAsyncValidators([i]);let s=()=>r.updateValueAndValidity();dn(e._rawValidators,s),dn(e._rawAsyncValidators,s)}function Or(r,e){e.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&Dn(r,e)})}function kr(r,e){e.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&Dn(r,e),r.updateOn!=="submit"&&r.markAsTouched()})}function Dn(r,e){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Rr(r,e){let t=(i,s)=>{e.valueAccessor.writeValue(i),s&&e.viewToModelUpdate(i)};r.registerOnChange(t),e._registerOnDestroy(()=>{r._unregisterOnChange(t)})}function zr(r,e){if(!r.hasOwnProperty("model"))return!1;let t=r.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Nr(r){return Object.getPrototypeOf(r.constructor)===pr}function Lr(r,e){if(!e)return null;Array.isArray(e);let t,i,s;return e.forEach(a=>{a.constructor===Ne?t=a:Nr(a)?i=a:s=a}),s||i||t||null}function hn(r,e){let t=r.indexOf(e);t>-1&&r.splice(t,1)}function fn(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var Hr=class extends ui{constructor(e=null,t,i){super(Vr(t),Sr(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Le(t)&&(t.nonNullable||t.initialValueIsDefault)&&(fn(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hn(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hn(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){fn(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Gr={provide:Ce,useExisting:Kt(()=>di)},pn=Promise.resolve(),di=(()=>{let e=class e extends Ce{constructor(i,s,a,u,d,h){super(),this._changeDetectorRef=d,this.callSetDisabledState=h,this.control=new Hr,this._registered=!1,this.name="",this.update=new ne,this._parent=i,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=Lr(this,u)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let s=i.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),zr(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Tr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){pn.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let s=i.isDisabled.currentValue,a=s!==0&&Ki(s);pn.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Er(i,this._parent):[i]}};e.\u0275fac=function(s){return new(s||e)(D(ai,9),D(yr,10),D(vr,10),D(_n,10),D(Qi,8),D(Vn,8))},e.\u0275dir=ie({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Pe.None,"disabled","isDisabled"],model:[Pe.None,"ngModel","model"],options:[Pe.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ri([Gr]),re,Bi]});let r=e;return r})();var Br=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ve({});let r=e;return r})();var Sn=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Vn,useValue:i.callSetDisabledState??ci}]}}};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ve({imports:[Br]});let r=e;return r})();var Y="generated",In="pointerdown",En="pointerup",hi="pointerleave",Tn="pointerout",fi="pointermove",Pn="touchstart",pi="touchend",Fn="touchmove",On="touchcancel",kn="resize",Rn="visibilitychange",z="tsParticles - Error";var Z=class r{constructor(e,t,i){if(this._updateFromAngle=(s,a)=>{this.x=Math.cos(s)*a,this.y=Math.sin(s)*a},!S(e)&&e){this.x=e.x,this.y=e.y;let s=e;this.z=s.z?s.z:0}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??0;else throw new Error(`${z} Vector3d not initialized correctly`)}static get origin(){return r.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return r.create(e.x,e.y,e.z)}static create(e,t,i){return new r(e,t,i)}add(e){return r.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return r.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return r.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return r.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){let e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return r.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;let t=e;this.z=t.z?t.z:0}sub(e){return r.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}};var ae=class r extends Z{constructor(e,t){super(e,t,0)}static get origin(){return r.create(0,0)}static clone(e){return r.create(e.x,e.y)}static create(e,t){return new r(e,t)}};var jr=Math.random;function F(){return mi(jr(),0,1-1e-16)}function mi(r,e,t){return Math.min(Math.max(r,e),t)}function U(r){let e=Ge(r),t=He(r);return e===t&&(t=0),F()*(e-t)+t}function x(r){return S(r)?r:U(r)}function He(r){return S(r)?r:r.min}function Ge(r){return S(r)?r:r.max}function y(r,e){if(r===e||e===void 0&&S(r))return r;let t=He(r),i=Ge(r);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:y(t,i)}function gi(r){let e=r.random,{enable:t,minimumValue:i}=T(e)?{enable:e,minimumValue:0}:e;return x(t?y(r.value,i):r.value)}function zn(r,e){let t=r.x-e.x,i=r.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function le(r,e){return zn(r,e).distance}function Nn(r,e,t){if(S(r))return r*Math.PI/180;switch(r){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return F()*Math.PI*2}}function Ln(r){let e=ae.origin;return e.length=1,e.angle=r,e}function Hn(r){return{x:r.position?.x??F()*r.size.width,y:r.position?.y??F()*r.size.height}}function Be(r){return r?r.endsWith("%")?parseFloat(r)/100:parseFloat(r):1}var Wr={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function j(){return Wr}function ce(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function $r(){return!ce()&&typeof matchMedia<"u"}function Ue(r){if($r())return matchMedia(r)}function Gn(r){if(!(ce()||typeof MutationObserver>"u"))return new MutationObserver(r)}function Bn(r,e){return r===e||P(e)&&e.indexOf(r)>-1}function qr(r){return Math.floor(F()*r.length)}function je(r,e,t=!0){return r[e!==void 0&&t?e%r.length:qr(r)]}function A(r,...e){for(let t of e){if(t==null)continue;if(!ue(t)){r=t;continue}let i=Array.isArray(t);i&&(ue(r)||!r||!Array.isArray(r))?r=[]:!i&&(ue(r)||!r||Array.isArray(r))&&(r={});for(let s in t){if(s==="__proto__")continue;let a=t,u=a[s],d=r;d[s]=ue(u)&&Array.isArray(u)?u.map(h=>A(d[s],h)):A(d[s],u)}}return r}function O(r,e){return P(r)?r.map((t,i)=>e(t,i)):e(r,0)}function Q(r,e,t){return P(r)?je(r,e,t):r}function Un(r,e){let t=r.value,i=r.animation,s={delayTime:x(i.delay)*1e3,enable:i.enable,value:x(r.value)*e,max:Ge(t)*e,min:He(t)*e,loops:0,maxLoops:x(i.count),time:0};if(i.enable){switch(s.decay=1-x(i.decay),i.mode){case"increase":s.status="increasing";break;case"decrease":s.status="decreasing";break;case"random":s.status=F()>=.5?"increasing":"decreasing";break}let a=i.mode==="auto";switch(i.startValue){case"min":s.value=s.min,a&&(s.status="increasing");break;case"max":s.value=s.max,a&&(s.status="decreasing");break;case"random":default:s.value=U(s),a&&(s.status=F()>=.5?"increasing":"decreasing");break}}return s.initialValue=s.value,s}function Xr(r,e){if(!(r.mode==="percent")){let s=r,{mode:a}=s;return ki(s,["mode"])}return"x"in r?{x:r.x/100*e.width,y:r.y/100*e.height}:{width:r.width/100*e.width,height:r.height/100*e.height}}function We(r,e){return Xr(r,e)}function T(r){return typeof r=="boolean"}function I(r){return typeof r=="string"}function S(r){return typeof r=="number"}function $e(r){return typeof r=="function"}function ue(r){return typeof r=="object"&&r!==null}function P(r){return Array.isArray(r)}var Yr="random";var qe=new Map;function yi(r){qe.set(r.key,r)}function _i(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function Zr(r){for(let[,a]of qe)if(r.startsWith(a.stringPrefix))return a.parseString(r);let e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,t=r.replace(e,(a,u,d,h,g)=>u+u+d+d+h+h+(g!==void 0?g+g:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,s=i.exec(t);return s?{a:s[4]!==void 0?parseInt(s[4],16)/255:1,b:parseInt(s[3],16),g:parseInt(s[2],16),r:parseInt(s[1],16)}:void 0}function q(r,e,t=!0){if(!r)return;let i=I(r)?{value:r}:r;if(I(i.value))return jn(i.value,e,t);if(P(i.value))return q({value:je(i.value,e,t)});for(let[,s]of qe){let a=s.handleRangeColor(i);if(a)return a}}function jn(r,e,t=!0){if(!r)return;let i=I(r)?{value:r}:r;if(I(i.value))return i.value===Yr?Jr():Kr(i.value);if(P(i.value))return jn({value:je(i.value,e,t)});for(let[,s]of qe){let a=s.handleColor(i);if(a)return a}}function vi(r,e,t=!0){let i=q(r,e,t);return i?Qr(i):void 0}function Qr(r){let e=r.r/255,t=r.g/255,i=r.b/255,s=Math.max(e,t,i),a=Math.min(e,t,i),u={h:0,l:(s+a)/2,s:0};return s!==a&&(u.s=u.l<.5?(s-a)/(s+a):(s-a)/(2-s-a),u.h=e===s?(t-i)/(s-a):u.h=t===s?2+(i-e)/(s-a):4+(e-t)/(s-a)),u.l*=100,u.s*=100,u.h*=60,u.h<0&&(u.h+=360),u.h>=360&&(u.h-=360),u}function Kr(r){return Zr(r)}function Xe(r){let e={b:0,g:0,r:0},t={h:r.h/360,l:r.l/100,s:r.s/100};if(!t.s)e.r=e.g=e.b=t.l;else{let i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,s=2*t.l-i;e.r=_i(s,i,t.h+1/3),e.g=_i(s,i,t.h),e.b=_i(s,i,t.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function Wn(r){let e=Xe(r);return{a:r.a,b:e.b,g:e.g,r:e.r}}function Jr(r){let e=r??0;return{b:Math.floor(U(y(e,256))),g:Math.floor(U(y(e,256))),r:Math.floor(U(y(e,256)))}}function de(r,e){return`rgba(${r.r}, ${r.g}, ${r.b}, ${e??1})`}function bi(r,e){return`hsla(${r.h}, ${r.s}%, ${r.l}%, ${e??1})`}function wi(r){return r!==void 0?{h:r.h.value,s:r.s.value,l:r.l.value}:void 0}function $n(r,e,t){r.fillStyle=t??"rgba(0,0,0,0)",r.fillRect(0,0,e.width,e.height)}function qn(r,e,t,i){t&&(r.globalAlpha=i,r.drawImage(t,0,0,e.width,e.height),r.globalAlpha=1)}function Ye(r,e){r.clearRect(0,0,e.width,e.height)}function Xn(r){let{container:e,context:t,particle:i,delta:s,colorStyles:a,backgroundMask:u,composite:d,radius:h,opacity:g,shadow:n,transform:o}=r,l=i.getPosition(),c=i.rotation+(i.pathRotation?i.velocity.angle:0),p={sin:Math.sin(c),cos:Math.cos(c)},m={a:p.cos*(o.a??1),b:p.sin*(o.b??1),c:-p.sin*(o.c??1),d:p.cos*(o.d??1)};t.setTransform(m.a,m.b,m.c,m.d,l.x,l.y),t.beginPath(),u&&(t.globalCompositeOperation=d);let f=i.shadowColor;n.enable&&f&&(t.shadowBlur=n.blur,t.shadowColor=de(f),t.shadowOffsetX=n.offset.x,t.shadowOffsetY=n.offset.y),a.fill&&(t.fillStyle=a.fill);let _=i.strokeWidth??0;t.lineWidth=_,a.stroke&&(t.strokeStyle=a.stroke),es(e,t,i,h,g,s),_>0&&t.stroke(),i.close&&t.closePath(),i.fill&&t.fill(),ts(e,t,i,h,g,s),t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0)}function es(r,e,t,i,s,a){if(!t.shape)return;let u=r.drawers.get(t.shape);u&&u.draw(e,t,i,s,a,r.retina.pixelRatio)}function ts(r,e,t,i,s,a){if(!t.shape)return;let u=r.drawers.get(t.shape);!u||!u.afterEffect||u.afterEffect(e,t,i,s,a,r.retina.pixelRatio)}function Yn(r,e,t){e.draw&&e.draw(r,t)}function Zn(r,e,t,i){e.drawParticle&&e.drawParticle(r,t,i)}function Qn(r,e,t){return{h:r.h,s:r.s,l:r.l+(e==="darken"?-1:1)*t}}function is(r,e,t){let i=e[t];i!==void 0&&(r[t]=(r[t]??1)*i)}var Ze=class{constructor(e){this.container=e,this._applyPostDrawUpdaters=t=>{for(let i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(t)},this._applyPreDrawUpdaters=(t,i,s,a,u,d)=>{for(let h of this._preDrawUpdaters){if(h.getColorStyles){let{fill:g,stroke:n}=h.getColorStyles(i,t,s,a);g&&(u.fill=g),n&&(u.stroke=n)}if(h.getTransformValues){let g=h.getTransformValues(i);for(let n in g)is(d,g,n)}h.beforeDraw&&h.beforeDraw(i)}},this._applyResizePlugins=()=>{for(let t of this._resizePlugins)t.resize&&t.resize()},this._getPluginParticleColors=t=>{let i,s;for(let a of this._colorPlugins)if(!i&&a.particleFillColor&&(i=vi(a.particleFillColor(t))),!s&&a.particleStrokeColor&&(s=vi(a.particleStrokeColor(t))),i&&s)break;return[i,s]},this._initCover=()=>{let t=this.container.actualOptions,i=t.backgroundMask.cover,s=i.color,a=q(s);if(a){let u=H(V({},a),{a:i.opacity});this._coverColorStyle=de(u,u.a)}},this._initStyle=()=>{let t=this.element,i=this.container.actualOptions;if(t){this._fullScreen?(this._originalStyle=A({},t.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(let s in i.style){if(!s||!i.style)continue;let a=i.style[s];a&&t.style.setProperty(s,a,"important")}}},this._initTrail=()=>b(this,null,function*(){let t=this.container.actualOptions,i=t.particles.move.trail,s=i.fill;if(i.enable)if(s.color){let a=q(s.color);if(!a)return;let u=t.particles.move.trail;this._trailFill={color:V({},a),opacity:1/u.length}}else yield new Promise((a,u)=>{if(!s.image)return;let d=document.createElement("img");d.addEventListener("load",()=>{this._trailFill={image:d,opacity:1/i.length},a()}),d.addEventListener("error",h=>{u(h.error)}),d.src=s.image})}),this._paintBase=t=>{this.draw(i=>$n(i,this.size,t))},this._paintImage=(t,i)=>{this.draw(s=>qn(s,this.size,t,i))},this._repairStyle=()=>{let t=this.element;t&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(t,{attributes:!0})))},this._resetOriginalStyle=()=>{let t=this.element,i=this._originalStyle;if(!(t&&i))return;let s=t.style;s.position=i.position,s.zIndex=i.zIndex,s.top=i.top,s.left=i.left,s.width=i.width,s.height=i.height},this._safeMutationObserver=t=>{this._mutationObserver&&t(this._mutationObserver)},this._setFullScreenStyle=()=>{let t=this.element;if(!t)return;let i="important",s=t.style;s.setProperty("position","fixed",i),s.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),s.setProperty("top","0",i),s.setProperty("left","0",i),s.setProperty("width","100%",i),s.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){let e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(de(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(s=>{Ye(s,this.size)})}destroy(){if(this.stop(),this._generated){let e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){let t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;let i=e.getRadius();if(i<=0)return;let s=e.getFillColor(),a=e.getStrokeColor()??s,[u,d]=this._getPluginParticleColors(e);u||(u=s),d||(d=a),!(!u&&!d)&&this.draw(h=>{let g=this.container,n=g.actualOptions,o=e.options.zIndex,l=(1-e.zIndexFactor)**o.opacityRate,c=e.bubble.opacity??e.opacity?.value??1,p=e.strokeOpacity??c,m=c*l,f=p*l,_={},v={fill:u?bi(u,m):void 0};v.stroke=d?bi(d,f):v.fill,this._applyPreDrawUpdaters(h,e,i,m,v,_),Xn({container:g,context:h,particle:e,delta:t,colorStyles:v,backgroundMask:n.backgroundMask.enable,composite:n.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**o.sizeRate,opacity:m,shadow:e.options.shadow,transform:_}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(s=>Zn(s,e,t,i))}drawPlugin(e,t){this.draw(i=>Yn(i,e,t))}init(){return b(this,null,function*(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=Gn(e=>{for(let t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{yield this._initTrail()}catch(e){j().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()})}initBackground(){let e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;let s=i.style;if(s){if(t.color){let a=q(t.color);s.backgroundColor=a?de(a,t.opacity):""}else s.backgroundColor="";s.backgroundImage=t.image||"",s.backgroundPosition=t.position||"",s.backgroundRepeat=t.repeat||"",s.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(let[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(let e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Y in e.dataset?e.dataset[Y]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=A({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(t=>{this.element&&t.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){let e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Ye(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;let e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,s={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(s.height===i.height&&s.width===i.width&&s.height===this.element.height&&s.width===this.element.width)return!1;let a=V({},i);return this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/a.width,height:i.height/a.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Ye(e,this.size))}windowResize(){return b(this,null,function*(){if(!this.element||!this.resize())return;let e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&(yield e.refresh())})}};function N(r,e,t,i,s){if(i){let a={passive:!0};T(s)?a.capture=s:s!==void 0&&(a=s),r.addEventListener(e,t,a)}else{let a=s;r.removeEventListener(e,t,a)}}var Qe=class{constructor(e){this.container=e,this._doMouseTouchClick=t=>{let i=this.container,s=i.actualOptions;if(this._canPush){let a=i.interactivity.mouse,u=a.position;if(!u)return;a.clickPosition=V({},u),a.clickTime=new Date().getTime();let d=s.interactivity.events.onClick;O(d.mode,h=>this.container.handleClickMode(h))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=t=>{let i=t,s=this.container,a=s.options,u=a.defaultThemes,d=i.matches?u.dark:u.light,h=a.themes.find(g=>g.name===d);h&&h.default.auto&&s.loadTheme(d)},this._handleVisibilityChange=()=>{let t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.getAnimationStatus()?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>b(this,null,function*(){this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(()=>b(this,null,function*(){let t=this.container.canvas;t&&(yield t.windowResize())}),this.container.actualOptions.interactivity.events.resize.delay*1e3)}),this._manageInteractivityListeners=(t,i)=>{let s=this._handlers,a=this.container,u=a.actualOptions,d=a.interactivity.element;if(!d)return;let h=d,g=a.canvas.element;g&&(g.style.pointerEvents=h===g?"initial":"none"),(u.interactivity.events.onHover.enable||u.interactivity.events.onClick.enable)&&(N(d,fi,s.mouseMove,i),N(d,Pn,s.touchStart,i),N(d,Fn,s.touchMove,i),u.interactivity.events.onClick.enable?(N(d,pi,s.touchEndClick,i),N(d,En,s.mouseUp,i),N(d,In,s.mouseDown,i)):N(d,pi,s.touchEnd,i),N(d,t,s.mouseLeave,i),N(d,On,s.touchCancel,i))},this._manageListeners=t=>{let i=this._handlers,s=this.container,a=s.actualOptions,u=a.interactivity.detectsOn,d=s.canvas.element,h=hi;u==="window"?(s.interactivity.element=window,h=Tn):u==="parent"&&d?s.interactivity.element=d.parentElement??d.parentNode:s.interactivity.element=d,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(h,t),document&&N(document,Rn,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{let i=this._handlers,s=Ue("(prefers-color-scheme: dark)");if(s){if(s.addEventListener!==void 0){N(s,"change",i.themeChange,t);return}s.addListener!==void 0&&(t?s.addListener(i.oldThemeChange):s.removeListener(i.oldThemeChange))}},this._manageResize=t=>{let i=this._handlers,s=this.container;if(!s.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){N(window,kn,i.resize,t);return}let u=s.canvas.element;this._resizeObserver&&!t?(u&&this._resizeObserver.unobserve(u),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&u&&(this._resizeObserver=new ResizeObserver(d=>b(this,null,function*(){d.find(g=>g.target===u)&&(yield this._handleWindowResize())})),this._resizeObserver.observe(u))},this._mouseDown=()=>{let{interactivity:t}=this.container;if(!t)return;let{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{let i=this.container,s=i.actualOptions,{mouse:a}=i.interactivity;a.inside=!0;let u=!1,d=a.position;if(!(!d||!s.interactivity.events.onClick.enable)){for(let[,h]of i.plugins)if(h.clickPositionValid&&(u=h.clickPositionValid(d),u))break;u||this._doMouseTouchClick(t),a.clicking=!1}},this._mouseTouchFinish=()=>{let t=this.container.interactivity;if(!t)return;let i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=hi,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{let i=this.container,s=i.actualOptions,a=i.interactivity,u=i.canvas.element;if(!a||!a.element)return;a.mouse.inside=!0;let d;if(t.type.startsWith("pointer")){this._canPush=!0;let g=t;if(a.element===window){if(u){let n=u.getBoundingClientRect();d={x:g.clientX-n.left,y:g.clientY-n.top}}}else if(s.interactivity.detectsOn==="parent"){let n=g.target,o=g.currentTarget;if(n&&o&&u){let l=n.getBoundingClientRect(),c=o.getBoundingClientRect(),p=u.getBoundingClientRect();d={x:g.offsetX+2*l.left-(c.left+p.left),y:g.offsetY+2*l.top-(c.top+p.top)}}else d={x:g.offsetX??g.clientX,y:g.offsetY??g.clientY}}else g.target===u&&(d={x:g.offsetX??g.clientX,y:g.offsetY??g.clientY})}else if(this._canPush=t.type!=="touchmove",u){let g=t,n=g.touches[g.touches.length-1],o=u.getBoundingClientRect();d={x:n.clientX-(o.left??0),y:n.clientY-(o.top??0)}}let h=i.retina.pixelRatio;d&&(d.x*=h,d.y*=h),a.mouse.position=d,a.status=fi},this._touchEnd=t=>{let i=t,s=Array.from(i.changedTouches);for(let a of s)this._touches.delete(a.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{let i=t,s=Array.from(i.changedTouches);for(let a of s)this._touches.delete(a.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{let i=t,s=Array.from(i.changedTouches);for(let a of s)this._touches.set(a.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}};var E=class r{constructor(){this.value=""}static create(e,t){let i=new r;return i.load(e),t!==void 0&&(I(t)||P(t)?i.load({value:t}):i.load(t)),i}load(e){e?.value!==void 0&&(this.value=e.value)}};var Ke=class{constructor(){this.color=new E,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=E.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}};var Je=class{constructor(){this.color=new E,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=E.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}};var et=class{constructor(){this.composite="destination-out",this.cover=new Je,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){let t=e.cover,i=I(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}};var tt=class{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}};var it=class{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}};var Me=class{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return O(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=O(e,t=>`#${t}`)}load(e){if(!e)return;let t=e.ids??e.elementId??e.el;t!==void 0&&(this.ids=t),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}};var nt=class{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}};var rt=class{constructor(){this.enable=!1,this.mode=[],this.parallax=new nt}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}};var st=class{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}};var ot=class{constructor(){this.onClick=new it,this.onDiv=new Me,this.onHover=new rt,this.resize=new st}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);let t=e.onDiv??e.ondiv;t!==void 0&&(this.onDiv=O(t,i=>{let s=new Me;return s.load(i),s})),this.onHover.load(e.onHover??e.onhover),T(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}};var at=class{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e||!this._container)return;let t=this._engine.plugins.interactors.get(this._container);if(t)for(let i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}};var he=class{constructor(e,t){this.detectsOn="window",this.events=new ot,this.modes=new at(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;let t=e.detectsOn??e.detect_on;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}};var lt=class{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=A({},e.options)))}};var ut=class{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=A({},e.options)))}};var ct=class{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}};var dt=class{constructor(){this.name="",this.default=new ct}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=A({},e.options)))}};var fe=class{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=y(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=y(e.offset)),e.speed!==void 0&&(this.speed=y(e.speed)),e.decay!==void 0&&(this.decay=y(e.decay)),e.delay!==void 0&&(this.delay=y(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}};var ht=class{constructor(){this.h=new fe,this.s=new fe,this.l=new fe}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}};var K=class r extends E{constructor(){super(),this.animation=new ht}static create(e,t){let i=new r;return i.load(e),t!==void 0&&(I(t)||P(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),!e)return;let t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}};var ft=class{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}};var pt=class{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}};var xi=class{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=y(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=y(e.speed)),e.decay!==void 0&&(this.decay=y(e.decay)),e.delay!==void 0&&(this.delay=y(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}},pe=class extends xi{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}};var mt=class{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}};var L=class{constructor(){this.random=new mt,this.value=0}load(e){e&&(T(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=y(e.value,this.random.enable?this.random.minimumValue:void 0)))}};var Ve=class extends L{constructor(){super(),this.random.minimumValue=.1,this.value=1}};var me=class{constructor(){this.horizontal=new Ve,this.vertical=new Ve}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}};var gt=class{constructor(){this.absorb=new ft,this.bounce=new me,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new pt}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=y(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}};var _t=class{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=y(e.offset)),e.value!==void 0&&(this.value=y(e.value)))}};var yt=class{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){if(!e)return;e.distance!==void 0&&(this.distance=y(e.distance)),e.enable!==void 0&&(this.enable=e.enable);let t=e.rotate?.x??e.rotateX;t!==void 0&&(this.rotate.x=t);let i=e.rotate?.y??e.rotateY;i!==void 0&&(this.rotate.y=i)}};var vt=class{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}};var bt=class{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=y(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=y(e.maxSpeed)))}};var wt=class{constructor(){this.clamp=!0,this.delay=new L,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=A(this.options,e.options)))}};var xt=class{load(e){e&&(e.color!==void 0&&(this.color=E.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}};var At=class{constructor(){this.enable=!1,this.length=10,this.fill=new xt}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}};var Ct=class{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}};var Mt=class{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=y(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=A({},e.position)))}};var Vt=class{constructor(){this.angle=new _t,this.attract=new yt,this.center=new vt,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new bt,this.path=new wt,this.outModes=new Ct,this.random=!1,this.size=!1,this.speed=2,this.spin=new Mt,this.straight=!1,this.trail=new At,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(S(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=y(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=S(e.distance)?{horizontal:e.distance,vertical:e.distance}:V({},e.distance)),e.drift!==void 0&&(this.drift=y(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);let t=e.outModes??e.outMode??e.out_mode;t!==void 0&&(ue(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=y(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}};var Dt=class extends pe{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){e?.opacity_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}};var St=class extends L{constructor(){super(),this.animation=new Dt,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);let t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=y(this.value,this.animation.enable?this.animation.minimumValue:void 0))}};var It=class{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);let t=e.width??e.area??e.value_area;t!==void 0&&(this.width=t);let i=e.height??e.factor;i!==void 0&&(this.height=i)}};var Et=class{constructor(){this.density=new It,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);let t=e.limit??e.max;t!==void 0&&(this.limit=t),e.value!==void 0&&(this.value=e.value)}};var Tt=class{constructor(){this.blur=0,this.color=new E,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=E.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}};var Ai="character",Ci="char",Mi="image",Vi="images",Di="polygon",Si="star",Pt=class{constructor(){this.loadShape=(e,t,i,s)=>{if(!e)return;let a=P(e),u=a?[]:{},d=a!==P(this.options[t]),h=a!==P(this.options[i]);d&&(this.options[t]=u),h&&s&&(this.options[i]=u),this.options[t]=A(this.options[t]??u,e),(!this.options[i]||s)&&(this.options[i]=A(this.options[i]??u,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Ai]??this.options[Ci]}set character(e){this.options[Ci]=this.options[Ai]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Mi]??this.options[Vi]}set image(e){this.options[Vi]=this.options[Mi]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Di]??this.options[Si]}set polygon(e){this.options[Si]=this.options[Di]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;let t=e.options??e.custom;if(t!==void 0)for(let i in t){let s=t[i];s&&(this.options[i]=A(this.options[i]??{},s))}this.loadShape(e.character,Ai,Ci,!0),this.loadShape(e.polygon,Di,Si,!1),this.loadShape(e.image??e.images,Mi,Vi,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}};var Ft=class extends pe{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){e?.size_min!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}};var Ot=class extends L{constructor(){super(),this.animation=new Ft,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;let t=e.animation??e.anim;t!==void 0&&(this.animation.load(t),this.value=y(this.value,this.animation.enable?this.animation.minimumValue:void 0))}};var De=class{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=K.create(this.color,e.color)),e.width!==void 0&&(this.width=y(e.width)),e.opacity!==void 0&&(this.opacity=y(e.opacity)))}};var kt=class extends L{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}};var Rt=class{constructor(e,t){this._engine=e,this._container=t,this.bounce=new me,this.collisions=new gt,this.color=new K,this.color.value="#fff",this.groups={},this.move=new Vt,this.number=new Et,this.opacity=new St,this.reduceDuplicates=!1,this.shadow=new Tt,this.shape=new Pt,this.size=new Ot,this.stroke=new De,this.zIndex=new kt}load(e){if(!e)return;if(this.bounce.load(e.bounce),this.color.load(K.create(this.color,e.color)),e.groups!==void 0)for(let s in e.groups){let a=e.groups[s];a!==void 0&&(this.groups[s]=A(this.groups[s]??{},a))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);let t=e.move?.collisions??e.move?.bounce;t!==void 0&&(this.collisions.enable=t),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=A({},e.interactivity));let i=e.stroke??e.shape?.stroke;if(i&&(this.stroke=O(i,s=>{let a=new De;return a.load(s),a})),this._container){let s=this._engine.plugins.updaters.get(this._container);if(s)for(let u of s)u.loadOptions&&u.loadOptions(this,e);let a=this._engine.plugins.interactors.get(this._container);if(a)for(let u of a)u.loadParticlesOptions&&u.loadParticlesOptions(this,e)}}};function Ii(r,...e){for(let t of e)r.load(t)}function zt(r,e,...t){let i=new Rt(r,e);return Ii(i,...t),i}var Nt=class{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(s=>s.default.value&&s.default.mode===i)??this.themes.find(s=>s.default.value&&s.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new Ke,this.backgroundMask=new et,this.defaultThemes={},this.delay=0,this.fullScreen=new tt,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new he(e,t),this.manualParticles=[],this.particles=zt(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){if(!e)return;e.preset!==void 0&&O(e.preset,u=>this._importPreset(u)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=y(e.delay));let t=e.detectRetina??e.retina_detect;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=y(e.duration));let i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);let s=e.fullScreen??e.backgroundMode;T(s)?this.fullScreen.enable=s:this.fullScreen.load(s),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(u=>{let d=new lt;return d.load(u),d})),this.particles.load(e.particles),this.style=A(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);let a=this._engine.plugins.interactors.get(this._container);if(a)for(let u of a)u.loadOptions&&u.loadOptions(this,e);if(e.responsive!==void 0)for(let u of e.responsive){let d=new ut;d.load(u),this.responsive.push(d)}if(this.responsive.sort((u,d)=>u.maxWidth-d.maxWidth),e.themes!==void 0)for(let u of e.themes){let d=this.themes.find(h=>h.name===u.name);if(d)d.load(u);else{let h=new dt;h.load(u),this.themes.push(h)}}this.defaultThemes.dark=this._findDefaultTheme("dark")?.name,this.defaultThemes.light=this._findDefaultTheme("light")?.name}setResponsive(e,t,i){this.load(i);let s=this.responsive.find(a=>a.mode==="screen"&&screen?a.maxWidth>screen.availWidth:a.maxWidth*t>e);return this.load(s?.options),s?.maxWidth}setTheme(e){if(e){let t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{let t=Ue("(prefers-color-scheme: dark)"),i=t&&t.matches,s=this._findDefaultTheme(i?"dark":"light");s&&this.load(s.options)}}};var Lt=class{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){return b(this,null,function*(){for(let t of this._externalInteractors)t.isEnabled()&&(yield t.interact(e))})}handleClickMode(e){for(let t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(let e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,t){return b(this,null,function*(){for(let i of this._externalInteractors)i.clear(e,t);for(let i of this._particleInteractors)i.isEnabled(e)&&(yield i.interact(e,t))})}reset(e){return b(this,null,function*(){for(let t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(let t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)})}};var Kn=r=>{if(!Bn(r.outMode,r.checkModes))return;let e=r.radius*2;r.coord>r.maxCoord-e?r.setCb(-r.radius):r.coord<e&&r.setCb(r.radius)},Ht=class{constructor(e,t,i,s,a,u){this.container=i,this._calcPosition=(d,h,g,n=0)=>{for(let[,v]of d.plugins){let w=v.particlePosition!==void 0?v.particlePosition(h,this):void 0;if(w)return Z.create(w.x,w.y,g)}let o=d.canvas.size,l=Hn({size:o,position:h}),c=Z.create(l.x,l.y,g),p=this.getRadius(),m=this.options.move.outModes,f=v=>{Kn({outMode:v,checkModes:["bounce","bounce-horizontal"],coord:c.x,maxCoord:d.canvas.size.width,setCb:w=>c.x+=w,radius:p})},_=v=>{Kn({outMode:v,checkModes:["bounce","bounce-vertical"],coord:c.y,maxCoord:d.canvas.size.height,setCb:w=>c.y+=w,radius:p})};return f(m.left??m.default),f(m.right??m.default),_(m.top??m.default),_(m.bottom??m.default),this._checkOverlap(c,n)?this._calcPosition(d,void 0,g,n+1):c},this._calculateVelocity=()=>{let d=Ln(this.direction),h=d.copy(),g=this.options.move;if(g.direction==="inside"||g.direction==="outside")return h;let n=Math.PI/180*x(g.angle.value),o=Math.PI/180*x(g.angle.offset),l={left:o-n/2,right:o+n/2};return g.straight||(h.angle+=U(y(l.left,l.right))),g.random&&typeof g.speed=="number"&&(h.length*=F()),h},this._checkOverlap=(d,h=0)=>{let g=this.options.collisions,n=this.getRadius();if(!g.enable)return!1;let o=g.overlap;if(o.enable)return!1;let l=o.retries;if(l>=0&&h>l)throw new Error(`${z} particle is overlapping and can't be placed`);return!!this.container.particles.find(c=>le(d,c.position)<n+c.getRadius())},this._getRollColor=d=>{if(!d||!this.roll||!this.backColor&&!this.roll.alter)return d;let h=this.roll.horizontal&&this.roll.vertical?2:1,g=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+g)/(Math.PI/h))%2?this.backColor?this.backColor:this.roll.alter?Qn(d,this.roll.alter.type,this.roll.alter.value):d:d},this._initPosition=d=>{let h=this.container,g=x(this.options.zIndex.value);this.position=this._calcPosition(h,d,mi(g,0,h.zLayers)),this.initialPosition=this.position.copy();let n=h.canvas.size;switch(this.moveCenter=H(V({},We(this.options.move.center,n)),{radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"}),this.direction=Nn(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=ae.origin},this._loadShapeData=(d,h)=>{let g=d.options[this.shape];if(g)return A({close:d.close,fill:d.fill},Q(g,this.id,h))},this._engine=e,this.init(t,s,a,u)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;let t=this.container,i=this.pathGenerator;for(let[,s]of t.plugins)s.particleDestroyed&&s.particleDestroyed(this,e);for(let s of t.particles.updaters)s.particleDestroyed&&s.particleDestroyed(this,e);i&&i.reset(this)}draw(e){let t=this.container;for(let[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??wi(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??wi(this.strokeColor))}init(e,t,i,s){let a=this.container,u=this._engine;this.id=e,this.group=s,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;let d=a.retina.pixelRatio,h=a.actualOptions,g=zt(this._engine,a,h.particles),n=g.shape.type,{reduceDuplicates:o}=g;this.shape=Q(n,this.id,o);let l=g.shape;if(i&&i.shape&&i.shape.type){let w=i.shape.type,k=Q(w,this.id,o);k&&(this.shape=k,l.load(i.shape))}this.shapeData=this._loadShapeData(l,o),g.load(i);let c=this.shapeData;c&&g.load(c.particles);let p=new he(u,a);p.load(a.actualOptions.interactivity),p.load(g.interactivity),this.interactivity=p,this.fill=c?.fill??g.shape.fill,this.close=c?.close??g.shape.close,this.options=g;let m=this.options.move.path;this.pathDelay=gi(m.delay)*1e3,m.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(m.generator),this.pathGenerator&&a.addPath(m.generator,this.pathGenerator)&&this.pathGenerator.init(a)),a.retina.initParticle(this),this.size=Un(this.options.size,d),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-x(this.options.move.decay);let f=a.particles;f.needsSort=f.needsSort||f.lastZIndex<this.position.z,f.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/a.zLayers,this.sides=24;let _=a.drawers.get(this.shape);_||(_=this._engine.plugins.getShapeDrawer(this.shape),_&&a.drawers.set(this.shape,_)),_&&_.loadShape&&_.loadShape(this);let v=_?.getSidesCount;v&&(this.sides=v(this)),this.spawning=!1,this.shadowColor=q(this.options.shadow.color);for(let w of a.particles.updaters)w.init(this);for(let w of a.particles.movers)w.init&&w.init(this);_&&_.particleInit&&_.particleInit(a,this);for(let[,w]of a.plugins)w.particleCreated&&w.particleCreated(this)}isInsideCanvas(){let e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(let e of this.container.particles.updaters)e.reset&&e.reset(this)}};var Gt=class{constructor(e,t){this.position=e,this.particle=t}};var ge=class{constructor(e,t){this.position={x:e,y:t}}};var W=class r extends ge{constructor(e,t,i,s){super(e,t),this.size={height:s,width:i}}contains(e){let t=this.size.width,i=this.size.height,s=this.position;return e.x>=s.x&&e.x<=s.x+t&&e.y>=s.y&&e.y<=s.y+i}intersects(e){e instanceof _e&&e.intersects(this);let t=this.size.width,i=this.size.height,s=this.position,a=e.position,u=e instanceof r?e.size:{width:0,height:0},d=u.width,h=u.height;return a.x<s.x+t&&a.x+d>s.x&&a.y<s.y+i&&a.y+h>s.y}};var _e=class r extends ge{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return le(e,this.position)<=this.radius}intersects(e){let t=this.position,i=e.position,s={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},a=this.radius;if(e instanceof r){let u=a+e.radius,d=Math.sqrt(s.x**2+s.y**2);return u>d}else if(e instanceof W){let{width:u,height:d}=e.size;return Math.pow(s.x-u,2)+Math.pow(s.y-d,2)<=a**2||s.x<=a+u&&s.y<=a+d||s.x<=u||s.y<=d}return!1}};var Se=class r{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{let{x:i,y:s}=this.rectangle.position,{width:a,height:u}=this.rectangle.size,{capacity:d}=this;for(let h=0;h<4;h++)this._subs.push(new r(new W(i+a/2*(h%2),s+u/2*(Math.round(h/2)-h%2),a/2,u/2),d));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t,i){let s=i||[];if(!e.intersects(this.rectangle))return[];for(let a of this._points)!e.contains(a.position)&&le(e.position,a.position)>a.particle.getRadius()&&(!t||t(a.particle))||s.push(a.particle);if(this._divided)for(let a of this._subs)a.query(e,t,s);return s}queryCircle(e,t,i){return this.query(new _e(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new W(e.x,e.y,t.width,t.height),i)}};var Jn=4,er=r=>new W(-r.width/4,-r.height/4,r.width*3/2,r.height*3/2),Bt=class{constructor(e,t){this._applyDensity=(s,a,u)=>{if(!s.number.density?.enable)return;let d=s.number,h=this._initDensityFactor(d.density),g=d.value,n=d.limit>0?d.limit:g,o=Math.min(g,n)*h+a,l=Math.min(this.count,this.filter(c=>c.group===u).length);this.limit=d.limit*h,l<o?this.push(Math.abs(o-l),void 0,s,u):l>o&&this.removeQuantity(l-o,u)},this._initDensityFactor=s=>{let a=this._container;if(!a.canvas.element||!s.enable)return 1;let u=a.canvas.element,d=a.retina.pixelRatio;return u.width*u.height/(s.factor*d**2*s.area)},this._pushParticle=(s,a,u,d)=>{try{let h=this.pool.pop();h?h.init(this._nextId,s,a,u):h=new Ht(this._engine,this._nextId,this._container,s,a,u);let g=!0;return d&&(g=d(h)),g?(this._array.push(h),this._zArray.push(h),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:h}}),h):void 0}catch(h){j().warning(`${z} adding particle: ${h}`);return}},this._removeParticle=(s,a,u)=>{let d=this._array[s];if(!d||d.group!==a)return!1;d.destroy(u);let h=this._zArray.indexOf(d);return this._array.splice(s,1),this._zArray.splice(h,1),this.pool.push(d),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:d}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new Lt(e,t);let i=t.canvas.size;this.quadTree=new Se(er(i),Jn),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){let e=this._container,t=e.actualOptions;for(let i of t.manualParticles)this.addParticle(i.position?We(i.position,e.canvas.size):void 0,i.options)}addParticle(e,t,i,s){let a=this._container,u=a.actualOptions,d=u.particles.number.limit;if(d>0){let h=this.count+1-d;h>0&&this.removeQuantity(h)}return this._pushParticle(e,t,i,s)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){return b(this,null,function*(){let t=this._container;t.canvas.clear(),yield this.update(e);for(let[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(let i of this._zArray)i.draw(e)})}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){let e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(let[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(let[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){for(let s in t.particles.groups){let a=t.particles.groups[s];for(let u=this.count,d=0;d<a.number?.value&&u<t.particles.number.value;u++,d++)this.addParticle(void 0,a,s)}for(let s=this.count;s<t.particles.number.value;s++)this.addParticle()}}push(e,t,i,s){this.pushing=!0;for(let a=0;a<e;a++)this.addParticle(t?.position,i,s);this.pushing=!1}redraw(){return b(this,null,function*(){this.clear(),this.init(),yield this.draw({value:0,factor:0})})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,s){if(e<0||e>this.count)return;let a=0;for(let u=e;a<t&&u<this.count;u++)this._removeParticle(u--,i,s)&&a++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){let e=this._container.actualOptions,t=e.particles.groups;for(let i in t)this._applyDensity(t[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}update(e){return b(this,null,function*(){let t=this._container,i=new Set;this.quadTree=new Se(er(t.canvas.size),Jn);for(let[,s]of t.pathGenerators)s.update();for(let[,s]of t.plugins)s.update&&s.update(e);for(let s of this._array){let a=t.canvas.resizeFactor;a&&!s.ignoresResizeRatio&&(s.position.x*=a.width,s.position.y*=a.height,s.initialPosition.x*=a.width,s.initialPosition.y*=a.height),s.ignoresResizeRatio=!1,yield this._interactionManager.reset(s);for(let[,u]of this._container.plugins){if(s.destroyed)break;u.particleUpdate&&u.particleUpdate(s,e)}for(let u of this.movers)u.isEnabled(s)&&u.move(s,e);if(s.destroyed){i.add(s);continue}this.quadTree.insert(new Gt(s.getPosition(),s))}if(i.size){let s=a=>!i.has(a);this._array=this.filter(s),this._zArray=this._zArray.filter(s),this.pool.push(...i)}yield this._interactionManager.externalInteract(e);for(let s of this._array){for(let a of this.updaters)a.update(s,e);!s.destroyed&&!s.spawning&&(yield this._interactionManager.particlesInteract(s,e))}if(delete t.canvas.resizeFactor,this.needsSort){let s=this._zArray;s.sort((a,u)=>u.position.z-a.position.z||a.id-u.id),this.lastZIndex=s[s.length-1].position.z,this.needsSort=!1}})}};var Ut=class{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){let e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||ce()?1:window.devicePixelRatio,this.reduceFactor=1;let i=this.pixelRatio;if(e.canvas.element){let u=e.canvas.element;e.canvas.size.width=u.offsetWidth*i,e.canvas.size.height=u.offsetHeight*i}let s=t.particles,a=s.move;this.attractDistance=x(a.attract.distance)*i,this.maxSpeed=x(a.gravity.maxSpeed)*i,this.sizeAnimationSpeed=x(s.size.animation.speed)*i}initParticle(e){let t=e.options,i=this.pixelRatio,s=t.move,a=s.distance,u=e.retina;u.attractDistance=x(s.attract.distance)*i,u.moveDrift=x(s.drift)*i,u.moveSpeed=x(s.speed)*i,u.sizeAnimationSpeed=x(t.size.animation.speed)*i;let d=u.maxDistance;d.horizontal=a.horizontal!==void 0?a.horizontal*i:void 0,d.vertical=a.vertical!==void 0?a.vertical*i:void 0,u.maxSpeed=x(s.gravity.maxSpeed)*i}};function M(r){return r&&!r.destroyed}function ns(r,e=60,t=!1){return{value:r,factor:t?60/e:60*r/1e3}}function ye(r,e,...t){let i=new Nt(r,e);return Ii(i,...t),i}var rs="default",tr={generate:r=>r.velocity,init:()=>{},update:()=>{},reset:()=>{}},jt=class{constructor(e,t,i){this.id=t,this._intersectionManager=s=>{if(!(!M(this)||!this.actualOptions.pauseOnOutsideViewport))for(let a of s)a.target===this.interactivity.element&&(a.isIntersecting?this.play:this.pause)()},this._nextFrame=s=>b(this,null,function*(){try{if(!this.smooth&&this.lastFrameTime!==void 0&&s<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??=s;let a=ns(s-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(a.value),this.lastFrameTime=s,a.value>1e3){this.draw(!1);return}if(yield this.particles.draw(a),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(a){j().error(`${z} in animation loop`,a)}}),this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new Ut(this),this.canvas=new Ze(this),this.particles=new Bt(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=ye(this._engine,this),this.actualOptions=ye(this._engine,this),this._eventListeners=new Qe(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(s=>this._intersectionManager(s))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!M(this))return;let t=this.interactivity.element;if(!t)return;let i=(o,l,c)=>{if(!M(this))return;let p=this.retina.pixelRatio,m={x:l.x*p,y:l.y*p},f=this.particles.quadTree.queryCircle(m,c*p);e(o,f)},s=o=>{if(!M(this))return;let l=o,c={x:l.offsetX||l.clientX,y:l.offsetY||l.clientY};i(o,c,1)},a=()=>{M(this)&&(g=!0,n=!1)},u=()=>{M(this)&&(n=!0)},d=o=>{if(M(this)){if(g&&!n){let l=o,c=l.touches[l.touches.length-1];if(!c&&(c=l.changedTouches[l.changedTouches.length-1],!c))return;let p=this.canvas.element,m=p?p.getBoundingClientRect():void 0,f={x:c.clientX-(m?m.left:0),y:c.clientY-(m?m.top:0)};i(o,f,Math.max(c.radiusX,c.radiusY))}g=!1,n=!1}},h=()=>{M(this)&&(g=!1,n=!1)},g=!1,n=!1;t.addEventListener("click",s),t.addEventListener("touchstart",a),t.addEventListener("touchmove",u),t.addEventListener("touchend",d),t.addEventListener("touchcancel",h)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!M(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t??tr),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!M(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(let[,i]of this.drawers)i.destroy&&i.destroy(this);for(let i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;let e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!M(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame(i=>b(this,null,function*(){t&&(this.lastFrameTime=void 0,t=!1),yield this._nextFrame(i)}))}export(i){return b(this,arguments,function*(e,t={}){for(let[,s]of this.plugins){if(!s.export)continue;let a=yield s.export(e,t);if(a.supported)return a.blob}j().error(`${z} - Export plugin with type ${e} not found`)})}getAnimationStatus(){return!this._paused&&!this.pageHidden&&M(this)}handleClickMode(e){if(M(this)){this.particles.handleClickMode(e);for(let[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}init(){return b(this,null,function*(){if(!M(this))return;let e=this._engine.plugins.getSupportedShapes();for(let i of e){let s=this._engine.plugins.getShapeDrawer(i);s&&this.drawers.set(i,s)}this._options=ye(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=ye(this._engine,this,this._options);let t=this._engine.plugins.getAvailablePlugins(this);for(let[i,s]of t)this.plugins.set(i,s);this.retina.init(),yield this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=x(this.actualOptions.duration)*1e3,this._delay=x(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(let[,i]of this.drawers)i.init&&(yield i.init(this));for(let[,i]of this.plugins)i.init&&(yield i.init());this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(let[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})})}loadTheme(e){return b(this,null,function*(){M(this)&&(this._currentTheme=e,yield this.refresh())})}pause(){if(M(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(let[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!M(this))return;let t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(let[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}refresh(){return b(this,null,function*(){if(M(this))return this.stop(),this.start()})}reset(){return b(this,null,function*(){if(M(this))return this._initialSourceOptions=void 0,this._options=ye(this._engine,this),this.actualOptions=ye(this._engine,this,this._options),this.refresh()})}setNoise(e,t,i){M(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!M(this))return;let s=V({},tr);if($e(e))s.generate=e,t&&(s.init=t),i&&(s.update=i);else{let a=s;s.generate=e.generate||a.generate,s.init=e.init||a.init,s.update=e.update||a.update}this.addPath(rs,s,!0)}start(){return b(this,null,function*(){!M(this)||this.started||(yield this.init(),this.started=!0,yield new Promise(e=>{this._delayTimeout=setTimeout(()=>b(this,null,function*(){this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(let[,t]of this.plugins)t.start&&(yield t.start());this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()}),this._delay)}))})}stop(){if(!(!M(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(let[,e]of this.plugins)e.stop&&e.stop();for(let e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];let e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}};var Wt=class{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){let i=this._listeners.get(e);i&&i.forEach(s=>s(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){let i=this._listeners.get(e);if(!i)return;let s=i.length,a=i.indexOf(t);a<0||(s===1?this._listeners.delete(e):i.splice(a,1))}};function Ei(r,e,t,i=!1){let s=e.get(r);return(!s||i)&&(s=[...t.values()].map(a=>a(r)),e.set(r,s)),s}var $t=class{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){O(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){let t=new Map;for(let i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return Ei(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return Ei(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return Ei(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(let i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){let s=this.updaters.get(e);if(s)for(let a of s)a.loadOptions&&a.loadOptions(t,...i)}};function ss(r){return b(this,null,function*(){let e=Q(r.url,r.index);if(!e)return r.fallback;let t=yield fetch(e);return t.ok?t.json():(j().error(`${z} ${t.status} while retrieving config file`),r.fallback)})}function os(r){return!r.id&&!r.element&&!r.url&&!r.options}function as(r){return!os(r)}var qt=class{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new Wt,this._initialized=!1,this.plugins=new $t(this)}get configs(){let e={};for(let[t,i]of this._configs)e[t]=i;return e}get version(){return"2.12.0"}addConfig(e,t){I(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(e.name??"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}addInteractor(e,t,i=!0){return b(this,null,function*(){this.plugins.addInteractor(e,t),yield this.refresh(i)})}addMover(e,t,i=!0){return b(this,null,function*(){this.plugins.addParticleMover(e,t),yield this.refresh(i)})}addParticleUpdater(e,t,i=!0){return b(this,null,function*(){this.plugins.addParticleUpdater(e,t),yield this.refresh(i)})}addPathGenerator(e,t,i=!0){return b(this,null,function*(){this.plugins.addPathGenerator(e,t),yield this.refresh(i)})}addPlugin(e,t=!0){return b(this,null,function*(){this.plugins.addPlugin(e),yield this.refresh(t)})}addPreset(e,t,i=!1,s=!0){return b(this,null,function*(){this.plugins.addPreset(e,t,i),yield this.refresh(s)})}addShape(e,t,i,s,a,u=!0){return b(this,null,function*(){let d,h=u,g,n,o;T(i)?(h=i,g=void 0):g=i,T(s)?(h=s,n=void 0):n=s,T(a)?(h=a,o=void 0):o=a,$e(t)?d={afterEffect:n,destroy:o,draw:t,init:g}:d=t,this.plugins.addShapeDrawer(e,d),yield this.refresh(h)})}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){let t=this.dom(),i=t[e];if(!i||i.destroyed){t.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}load(e,t){return b(this,null,function*(){return this.loadFromArray(e,t)})}loadFromArray(e,t,i){return b(this,null,function*(){let s;return as(e)?s=e:(s={},I(e)?s.id=e:s.options=e,S(t)?s.index=t:s.options=t??s.options,s.index=i??s.index),this._loadParams(s)})}loadJSON(e,t,i){return b(this,null,function*(){let s,a;return S(t)||t===void 0?s=e:(a=e,s=t),this._loadParams({id:a,url:s,index:i})})}refresh(e=!0){return b(this,null,function*(){e&&this.dom().forEach(t=>t.refresh())})}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}set(e,t,i,s){return b(this,null,function*(){let a={index:s};return I(e)?a.id=e:a.element=e,t instanceof HTMLElement?a.element=t:a.options=t,S(i)?a.index=i:a.options=i??a.options,this._loadParams(a)})}setJSON(e,t,i,s){return b(this,null,function*(){let a={};return e instanceof HTMLElement?(a.element=e,a.url=t,a.index=i):(a.id=e,a.element=t,a.url=i,a.index=s),this._loadParams(a)})}setOnClickHandler(e){let t=this.dom();if(!t.length)throw new Error(`${z} can only set click handlers after calling tsParticles.load()`);for(let i of t)i.addClickHandler(e)}_loadParams(e){return b(this,null,function*(){let t=e.id??`tsparticles${Math.floor(F()*1e4)}`,{index:i,url:s}=e,a=s?yield ss({fallback:e.options,url:s,index:i}):e.options,u=e.element??document.getElementById(t);u||(u=document.createElement("div"),u.id=t,document.body.append(u));let d=Q(a,i),h=this.dom(),g=h.findIndex(l=>l.id===t);if(g>=0){let l=this.domItem(g);l&&!l.destroyed&&(l.destroy(),h.splice(g,1))}let n;if(u.tagName.toLowerCase()==="canvas")n=u,n.dataset[Y]="false";else{let l=u.getElementsByTagName("canvas");l.length?(n=l[0],n.dataset[Y]="false"):(n=document.createElement("canvas"),n.dataset[Y]="true",u.appendChild(n))}n.style.width||(n.style.width="100%"),n.style.height||(n.style.height="100%");let o=new jt(this,t,d);return g>=0?h.splice(g,0,o):h.push(o),o.canvas.loadCanvas(n),yield o.start(),o})}};var Xt=class{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){let t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Xe(i)}handleRangeColor(e){let t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Xe({h:x(i.h),l:x(i.l),s:x(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;let t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?Wn({a:i.length>4?Be(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}};var Yt=class{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){let t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){let t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:x(i.r),g:x(i.g),b:x(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;let t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=t.exec(e);return i?{a:i.length>4?Be(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}};function ir(){let r=new Yt,e=new Xt;yi(r),yi(e);let t=new qt;return t.init(),t}var Ie=ir();ce()||(window.tsParticles=Ie);var nr=(()=>{class r{platformId;options;url;id;particlesInit;particlesLoaded=new ne;destroy$=new Ri;container;constructor(t){this.platformId=t,this.id="tsparticles"}ngAfterViewInit(){if(nn(this.platformId))return;let t=i=>{this.container=i,this.particlesLoaded.emit(i)};Te(this.particlesInit?this.particlesInit(Ie):Promise.resolve()).pipe(Li(()=>this.url?Ie.loadJSON(this.id,this.url):this.options?Ie.load(this.id,this.options):(console.error("You must specify options or url to load tsParticles"),zi)),Gi(this.destroy$)).subscribe(t)}ngOnDestroy(){this.container?.destroy(),this.destroy$.next()}static \u0275fac=function(i){return new(i||r)(D(ji))};static \u0275cmp=Fe({type:r,selectors:[["ng-particles"]],inputs:{options:"options",url:"url",id:"id",particlesInit:"particlesInit"},outputs:{particlesLoaded:"particlesLoaded"},decls:1,vars:1,consts:[[3,"id"]],template:function(i,s){i&1&&se(0,"div",0),i&2&&X("id",s.id)},encapsulation:2})}return r})();var rr=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=be({type:r});static \u0275inj=ve({})}return r})();var Ti=fr(sr());function us(r,e){if(r&1&&(B(0,"div",11)(1,"p",12),$(2),R(),se(3,"img",13),R()),r&2){let t=Oe();G(2),ii(t.resultMessage)}}function cs(r,e){if(r&1&&(B(0,"div",11)(1,"p",14),$(2),R(),se(3,"img",15),R()),r&2){let t=Oe();G(2),ii(t.resultMessage)}}function ds(r,e){if(r&1&&(B(0,"p",16),$(1),R()),r&2){let t=Oe();G(),ni(" ",t.resultMessage," ")}}var or=(()=>{let e=class e{constructor(){this.words=[{english:"Hello",german:"Hallo"},{english:"Thank you",german:"Danke"},{english:"Goodbye",german:"Auf Wiedersehen"}],this.currentWordIndex=0,this.userAnswer="",this.resultMessage="",this.showCorrectAnswer=!1,this.isAnswerCorrect=null,this.particlesOptions={fullScreen:{enable:!1},emitters:{life:{count:1,duration:.1,delay:.4},rate:{delay:.15,quantity:20},position:{x:50,y:50}},particles:{color:{value:"#f00"},move:{enable:!0,speed:10},number:{value:0},opacity:{value:1},shape:{type:"circle"},size:{value:5}}}}get currentWord(){return this.words[this.currentWordIndex].english}ngOnInit(){this.correctSound=new Ti.Howl({src:["https://www.myinstants.com/media/sounds/correct-answer.mp3"]}),this.wrongSound=new Ti.Howl({src:["https://www.myinstants.com/media/sounds/wrong-answer-sound-effect.mp3"]})}checkAnswer(){let i=this.words[this.currentWordIndex].german.toLowerCase();this.userAnswer.toLowerCase().trim()===i?(this.resultMessage="Correct!",this.isAnswerCorrect=!0,this.playCorrectSound(),this.triggerConfetti(),this.showCorrectAnswer=!1,setTimeout(()=>{this.moveToNextWord()},1500)):(this.resultMessage="Wrong, try again!",this.isAnswerCorrect=!1,this.playWrongSound())}showAnswer(){this.resultMessage=`Correct answer: ${this.words[this.currentWordIndex].german}`,this.showCorrectAnswer=!0}moveToNextWord(){this.currentWordIndex=(this.currentWordIndex+1)%this.words.length,this.userAnswer="",this.resultMessage="",this.isAnswerCorrect=null,this.showCorrectAnswer=!1}playCorrectSound(){this.correctSound.play()}playWrongSound(){this.wrongSound.play()}triggerConfetti(){let i=document.querySelector("#confetti-container");if(i){let s=i}}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-root"]],standalone:!0,features:[Yi],decls:16,vars:6,consts:[[1,"flex","justify-center","items-center","h-screen","bg-blue-100"],[1,"text-center","bg-white","p-8","rounded-lg","shadow-lg","relative"],[1,"text-3xl","font-bold","mb-6"],[1,"text-2xl","mb-6","text-gray-700"],["type","text","placeholder","Enter German translation",1,"w-full","p-3","border","border-gray-300","rounded","mb-4","text-xl",3,"ngModelChange","ngModel"],[1,"flex","justify-around","mb-4"],[1,"bg-green-500","text-white","px-4","py-2","rounded","hover:bg-green-600","text-lg",3,"click"],[1,"bg-blue-500","text-white","px-4","py-2","rounded","hover:bg-blue-600","text-lg",3,"click"],["class","text-center",4,"ngIf"],["id","confetti-container",3,"options"],["class","text-lg text-gray-600 mt-4",4,"ngIf"],[1,"text-center"],[1,"text-lg","font-semibold","text-green-500","mb-2"],["src","https://i.giphy.com/media/3ohs7KViF6r29diUUQ/giphy.gif","alt","Correct!",1,"w-24","mx-auto"],[1,"text-lg","font-semibold","text-red-500","mb-2"],["src","https://i.giphy.com/media/1BXa2alBjrCXC/giphy.gif","alt","Wrong!",1,"w-24","mx-auto"],[1,"text-lg","text-gray-600","mt-4"]],template:function(s,a){s&1&&(B(0,"div",0)(1,"div",1)(2,"h1",2),$(3,"English to German Game"),R(),B(4,"h2",3),$(5),R(),B(6,"input",4),Xi("ngModelChange",function(d){return qi(a.userAnswer,d)||(a.userAnswer=d),d}),R(),B(7,"div",5)(8,"button",6),we("click",function(){return a.checkAnswer()}),$(9," Check "),R(),B(10,"button",7),we("click",function(){return a.showAnswer()}),$(11," Show Answer "),R()(),ti(12,us,4,1,"div",8)(13,cs,4,1,"div",8),se(14,"ng-particles",9),ti(15,ds,2,1,"p",10),R()()),s&2&&(G(5),ni(" ",a.currentWord," "),G(),$i("ngModel",a.userAnswer),G(6),X("ngIf",a.isAnswerCorrect===!0),G(),X("ngIf",a.isAnswerCorrect===!1),G(),X("options",a.particlesOptions),G(),X("ngIf",a.showCorrectAnswer))},dependencies:[Sn,Ne,Mn,di,tn,en,rr,nr],styles:["body[_ngcontent-%COMP%]{background-image:url(/assets/game-bg.jpg);background-size:cover;background-position:center}h1[_ngcontent-%COMP%]{font-family:Comic Sans MS,Comic Sans,cursive}img[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 1s infinite}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-15px)}}"]});let r=e;return r})();var ar=[];var lr={providers:[an(ar),sn()]};var hs={providers:[on()]},ur=Ji(lr,hs);var fs=()=>rn(or,ur),Gc=fs;export{Gc as a};
